<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test</title>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #0a0a0a;
            color: #00ffcc;
        }
        #editor {
            background: white;
            color: black;
            min-height: 200px;
            margin: 20px 0;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #00ffcc;
            border-radius: 5px;
        }
        .success { color: #00ff00; }
        .error { color: #ff0000; }
    </style>
</head>
<body>
    <h1>Library Test Page</h1>

    <div class="status" id="supabaseStatus">Checking Supabase...</div>
    <div class="status" id="quillStatus">Checking Quill...</div>

    <h2>Quill Editor Test:</h2>
    <div id="editor"></div>

    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script>
        // Test Supabase
        const supabaseStatus = document.getElementById('supabaseStatus');
        console.log('window.supabase:', window.supabase);
        console.log('typeof supabase:', typeof supabase);

        if (typeof window.supabase !== 'undefined') {
            supabaseStatus.innerHTML = '✅ Supabase library loaded! (window.supabase available)';
            supabaseStatus.className = 'status success';

            try {
                const client = window.supabase.createClient(
                    'https://aqxrogaltuwtlparwdkq.supabase.co',
                    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFxeHJvZ2FsdHV3dGxwYXJ3ZGtxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE2MTcxNzgsImV4cCI6MjA0NzE5MzE3OH0.p7jFJp8MUzCx_-u1P6VkWs-h_dKSwQvLF0R5lOdpGVU'
                );
                console.log('Supabase client created:', client);
                supabaseStatus.innerHTML += '<br>✅ Supabase client created successfully!';
            } catch (error) {
                console.error('Error creating Supabase client:', error);
                supabaseStatus.innerHTML += '<br>❌ Error creating client: ' + error.message;
                supabaseStatus.className = 'status error';
            }
        } else {
            supabaseStatus.innerHTML = '❌ Supabase library NOT loaded';
            supabaseStatus.className = 'status error';
        }

        // Test Quill
        const quillStatus = document.getElementById('quillStatus');
        console.log('typeof Quill:', typeof Quill);

        if (typeof Quill !== 'undefined') {
            quillStatus.innerHTML = '✅ Quill library loaded!';
            quillStatus.className = 'status success';

            try {
                const quill = new Quill('#editor', {
                    theme: 'snow',
                    placeholder: 'Type something...'
                });
                console.log('Quill editor created:', quill);
                quillStatus.innerHTML += '<br>✅ Quill editor initialized!';
            } catch (error) {
                console.error('Error creating Quill editor:', error);
                quillStatus.innerHTML += '<br>❌ Error creating editor: ' + error.message;
                quillStatus.className = 'status error';
            }
        } else {
            quillStatus.innerHTML = '❌ Quill library NOT loaded';
            quillStatus.className = 'status error';
        }
    </script>
</body>
</html>
