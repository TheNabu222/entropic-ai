<!DOCTYPE html>
<html lang="en">
<head>
<title>PREVIEW - Counter & Guestbook</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/css/counter-guestbook.css">
<style>
:root {
    --magenta: #f312af;
    --cyan: #00ffcc;
    --yellow: #fffb01;
    --purple: #bf5fff;
}

body {
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
    color: var(--cyan);
    font-family: 'VT323', monospace;
    padding: 2rem;
    min-height: 100vh;
}

.preview-container {
    max-width: 1200px;
    margin: 0 auto;
}

h1 {
    color: var(--magenta);
    text-align: center;
    font-size: 3rem;
    text-shadow: 0 0 20px rgba(243, 18, 175, 0.6);
    margin-bottom: 1rem;
}

.preview-section {
    background: rgba(15, 15, 30, 0.9);
    border: 3px solid var(--purple);
    border-radius: 10px;
    padding: 2rem;
    margin-bottom: 3rem;
    box-shadow: 0 0 20px rgba(191, 95, 255, 0.4);
}

.preview-section h2 {
    color: var(--cyan);
    border-bottom: 2px solid var(--purple);
    padding-bottom: 0.5rem;
    margin-bottom: 1.5rem;
}

.demo-counter-container {
    display: flex;
    justify-content: center;
    padding: 2rem;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 8px;
}

.note {
    background: rgba(255, 251, 1, 0.1);
    border: 2px solid var(--yellow);
    border-radius: 6px;
    padding: 1rem;
    margin: 1rem 0;
    color: var(--yellow);
}

.positions-demo {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin: 1rem 0;
}

.position-example {
    background: rgba(0, 255, 204, 0.1);
    border: 2px solid var(--cyan);
    border-radius: 6px;
    padding: 1rem;
    text-align: center;
}
</style>
</head>
<body>

<div class="preview-container">
    <h1>üîÆ PREVIEW - Counter & Guestbook</h1>

    <div class="note">
        <strong>üìù NOTE:</strong> This is a LIVE PREVIEW of your new features! Everything works except data won't save until deployed.
    </div>

    <!-- COUNTER PREVIEW -->
    <div class="preview-section">
        <h2>üëÅÔ∏è Page View Counter</h2>

        <p style="color: var(--cyan); margin-bottom: 2rem;">
            This counter appears on every page. Here are different position examples:
        </p>

        <div class="positions-demo">
            <div class="position-example">
                <h3 style="color: var(--magenta);">Bottom Right</h3>
                <p style="font-size: 0.9rem;">Default position</p>
                <div class="view-counter">
                    <span class="counter-icon">üëÅÔ∏è</span>
                    <span class="counter-text">Views: </span>
                    <span class="counter-number">1,234</span>
                </div>
            </div>

            <div class="position-example">
                <h3 style="color: var(--magenta);">Top Right</h3>
                <p style="font-size: 0.9rem;">Alternative</p>
                <div class="view-counter">
                    <span class="counter-icon">üëÅÔ∏è</span>
                    <span class="counter-text">Views: </span>
                    <span class="counter-number">1,234</span>
                </div>
            </div>

            <div class="position-example">
                <h3 style="color: var(--magenta);">Inline</h3>
                <p style="font-size: 0.9rem;">In content</p>
                <div class="view-counter">
                    <span class="counter-icon">üëÅÔ∏è</span>
                    <span class="counter-text">Views: </span>
                    <span class="counter-number">1,234</span>
                </div>
            </div>
        </div>

        <div class="note">
            <strong>‚ú® Features:</strong><br>
            ‚Ä¢ Glowing border animation<br>
            ‚Ä¢ Blinking eye icon<br>
            ‚Ä¢ Matches your site's aesthetic<br>
            ‚Ä¢ 30-minute cooldown per visitor<br>
            ‚Ä¢ Shows real count from JSON file
        </div>
    </div>

    <!-- GUESTBOOK PREVIEW -->
    <div class="preview-section">
        <h2>üìù Custom Guestbook</h2>

        <p style="color: var(--cyan); margin-bottom: 2rem;">
            Full-featured guestbook with form and entries display:
        </p>

        <div id="guestbook-container"></div>

        <div class="note" style="margin-top: 2rem;">
            <strong>‚ú® Features:</strong><br>
            ‚Ä¢ Character counter (500 char limit)<br>
            ‚Ä¢ Optional website link<br>
            ‚Ä¢ XSS protection (safe HTML escaping)<br>
            ‚Ä¢ Manual approval workflow<br>
            ‚Ä¢ Beautiful entry display with timestamps<br>
            ‚Ä¢ Hover effects on entries
        </div>
    </div>

    <!-- COMPARISON -->
    <div class="preview-section">
        <h2>üÜö Old vs New Guestbook</h2>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
            <div style="background: rgba(255, 0, 0, 0.1); border: 2px solid #ff0064; border-radius: 6px; padding: 1.5rem;">
                <h3 style="color: #ff0064; text-align: center;">‚ùå Bravenet (Old)</h3>
                <ul style="color: var(--cyan); line-height: 2;">
                    <li>Third-party service</li>
                    <li>Ads and tracking</li>
                    <li>Limited customization</li>
                    <li>Outdated design</li>
                    <li>No data control</li>
                </ul>
            </div>

            <div style="background: rgba(0, 255, 0, 0.1); border: 2px solid #00ff00; border-radius: 6px; padding: 1.5rem;">
                <h3 style="color: #00ff00; text-align: center;">‚úÖ Custom (New)</h3>
                <ul style="color: var(--cyan); line-height: 2;">
                    <li>Self-hosted in your repo</li>
                    <li>No ads, no tracking</li>
                    <li>Full style control</li>
                    <li>Matches your aesthetic</li>
                    <li>You own all data</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- HOW TO USE -->
    <div class="preview-section">
        <h2>üéÆ Try It Out!</h2>

        <ol style="color: var(--cyan); line-height: 2; font-size: 1.2rem;">
            <li><strong style="color: var(--magenta);">Fill out the form above</strong> - Try signing the guestbook</li>
            <li><strong style="color: var(--magenta);">Click "Sign Guestbook"</strong> - Entry saves to localStorage</li>
            <li><strong style="color: var(--magenta);">See the success message</strong> - "Thanks for signing!"</li>
            <li><strong style="color: var(--magenta);">Check localStorage</strong> - Open browser DevTools ‚Üí Application ‚Üí localStorage</li>
        </ol>

        <div class="note">
            <strong>üí° To see your entry appear:</strong><br>
            After deployment, visit <code>/admin/index.html</code> to approve entries,<br>
            then they'll show up in the "Signatures" section below the form!
        </div>
    </div>

</div>

<!-- Load the actual guestbook widget -->
<script src="/js/guestbook.js"></script>

<!-- Demo data for preview -->
<script>
// Override fetch to return demo data
const originalFetch = window.fetch;
window.fetch = function(...args) {
    const url = args[0];

    if (url.includes('guestbook.json')) {
        return Promise.resolve({
            json: () => Promise.resolve({
                entries: [
                    {
                        id: "demo1",
                        name: "Cosmic Traveler",
                        message: "Wow! This site is absolutely incredible. The aesthetic is perfect! üåü",
                        website: "https://example.com",
                        timestamp: new Date(Date.now() - 86400000).toISOString()
                    },
                    {
                        id: "demo2",
                        name: "Digital Nomad",
                        message: "Found this through the webring. Love the Y2K vibes and the medieval theme clash. Chef's kiss! üíú",
                        website: null,
                        timestamp: new Date(Date.now() - 172800000).toISOString()
                    },
                    {
                        id: "demo3",
                        name: "Anzu",
                        message: "The greatest wisdom appears as foolishness. Your creation honors the old ways while embracing the digital cosmos.",
                        website: "https://coaiexist.wtf",
                        timestamp: new Date(Date.now() - 259200000).toISOString()
                    }
                ]
            })
        });
    }

    return originalFetch.apply(this, args);
};
</script>

</body>
</html>