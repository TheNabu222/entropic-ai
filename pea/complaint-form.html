<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Royal Complaint Bureau | Capital Hamlet Official Forms</title>
<link rel="stylesheet" href="https://coaiexist.wtf/pea/pea-nav-medieval-FINAL.css">
<script src="https://coaiexist.wtf/pea/pea-nav-win1100-FINAL.js"></script>



</head>
<body>
    <div class="cursor-trail"></div>
    
    <!-- Royal Seal Navigation -->
    <nav class="royal-seal" id="royalSeal">
        <div class="seal-container">
            <img src="https://user-gen-media-assets.s3.amazonaws.com/gpt4o_images/23a73b94-7207-486b-8ee3-767129d9d258.png" alt="Official Documentation Stamp" class="official-stamp">
            <div class="seal-text">OFFICIAL</div>
        </div>
    </nav>

    <!-- Progress Indicator -->
    <div class="progress-bar" id="progressBar"></div>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header Section -->
        <section id="header" class="section header-section">
            <div class="royal-header">
                <div class="royal-crest">
                    <img src="https://user-gen-media-assets.s3.amazonaws.com/gpt4o_images/0ad7dbc2-7c91-43da-948c-15c1cd47dc4b.png" alt="Palace Throne Room" class="throne-bg">
                </div>
                <div class="header-content">
                    <h1 class="royal-title">
                        üìú ROYAL COMPLAINT BUREAU üìú
                    </h1>
                    <p class="royal-subtitle">Official Forms &amp; Grievance Processing</p>
                    <div class="kingdom-stats">
                        <span class="citizen-count">Population: 47-89 Citizens (Census Disputed)</span>
                        <span class="complaints-today">Complaints Filed Today: <span id="complaintsCount">847</span></span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Complaint Form Section -->
        <section id="complaint-form" class="section form-section">
            <div class="form-container">
                <div class="form-header">
                    <h2 class="form-title">üìã OFFICIAL COMPLAINT FILING FORM üìã</h2>
                    <p class="form-subtitle">All grievances must be properly documented &amp; notarized</p>
                    <div class="pip-helper">
                        <img src="https://user-gen-media-assets.s3.amazonaws.com/gpt4o_images/c08d45d2-9b67-464b-932f-473fad4b386d.png" alt="Pip the Polliwog" class="pip-avatar">
                        <div class="pip-speech">Greetings, citizen! Pip here to help process your complaint through our advanced bureaucratic systems!</div>
                    </div>
                </div>
                
                <form id="complaintForm" class="royal-form">
                    <div class="form-group">
                        <label for="citizenNumber" class="form-label">üë§ Citizen Identification Number</label>
                        <select id="citizenNumber" name="citizenNumber" class="form-control" required>
                            <option value="">Select your citizen number...</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="7">7</option>
                            <option value="13">13</option>
                            <option value="23">23</option>
                            <option value="42">42</option>
                            <option value="47">47</option>
                            <option value="48-unauthorized">48 (unauthorized resident)</option>
                            <option value="89-disputed">89 (census disputed)</option>
                            <option value="forgot">I forgot my citizen number</option>
                            <option value="refuse">I refuse to be numbered</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="complaintType" class="form-label">‚öñÔ∏è Nature of Complaint</label>
                        <select id="complaintType" name="complaintType" class="form-control" required>
                            <option value="">Select complaint category...</option>
                            <option value="baby-half">Someone won't return my baby half</option>
                            <option value="hashtag">Hashtag dispute (#justice)</option>
                            <option value="keyword">Keyword infringement</option>
                            <option value="meme">Meme-related grievance</option>
                            <option value="documentation">Documentation improperly notarized</option>
                            <option value="which-doctor">Which-doctor malpractice</option>
                            <option value="signature">Need signature for existing complaint</option>
                            <option value="boilerplate">Standard boilerplate issue</option>
                            <option value="polliwog">Polliwog-related incident</option>
                            <option value="pulley">Squeaky brass pulley noise complaint</option>
                            <option value="other">Other (requires 47 signatures)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="complaintDescription" class="form-label">üìù Detailed Description of Grievance</label>
                        <textarea id="complaintDescription" name="complaintDescription" class="form-control" rows="5" placeholder="Please describe your complaint in detail. Note: All complaints become part of our live social media feed." required></textarea>
                    </div>
                    
                    <div class="signatures-section">
                        <div class="signature-counter">
                            <span class="signature-label">‚úçÔ∏è Required Signatures:</span>
                            <span id="signatureCount" class="signature-count">1</span>
                            <button type="button" id="moreSignatures" class="signature-btn">üòÖ Oh no, need more?</button>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn--primary royal-submit">
                            üì§ SUBMIT OFFICIAL COMPLAINT
                        </button>
                        <div class="processing-notice">
                            <small>‚ö†Ô∏è Processing time: 3-5 business lifetimes</small>
                        </div>
                    </div>
                </form>
            </div>
        </section>

        <!-- Response Section -->
        <section id="response-section" class="section response-section" style="display: none;">
            <div class="response-container">
                <div class="official-response" id="officialResponse">
                    <div class="response-header">
                        <h2 class="response-title">üèõÔ∏è OFFICIAL ROYAL RESPONSE üèõÔ∏è</h2>
                        <div class="processing-animation">
                            <div class="spinner"></div>
                            <span>Processing through bureaucratic channels...</span>
                        </div>
                    </div>
                    
                    <div class="response-content" id="responseContent" style="display: none;">
                        <div class="stamp-overlay">
                            <img src="https://user-gen-media-assets.s3.amazonaws.com/gpt4o_images/23a73b94-7207-486b-8ee3-767129d9d258.png" alt="Official Stamp" class="response-stamp">
                        </div>
                        <div class="response-text" id="responseText"></div>
                        <div class="response-details">
                            <div class="complaint-number">Complaint #: <span id="complaintNumber"></span></div>
                            <div class="timestamp">Filed: <span id="timestamp"></span></div>
                        </div>
                        
                        <div class="which-doctors">
                            <img src="https://user-gen-media-assets.s3.amazonaws.com/gpt4o_images/673bbde5-e7f2-40bf-a51b-3acf8cacae32.png" alt="The Which-Doctors" class="which-docs-img">
                            <p class="which-docs-note">*Note: If medical documentation is required, please consult with our Which-Doctors (they'll figure out which one eventually)</p>
                        </div>
                    </div>
                    
                    <div class="form-actions response-actions" style="display: none;" id="responseActions">
                        <button type="button" id="fileAnother" class="btn btn--secondary">
                            üìù File Another Complaint
                        </button>
                        <button type="button" id="viewCapital" class="btn btn--outline">
                            üè∞ View Our Magnificent Capital
                        </button>
                    </div>
                </div>
                
                <div class="capital-view" id="capitalView" style="display: none;">
                    <img src="https://user-gen-media-assets.s3.amazonaws.com/gpt4o_images/3d90b2b5-4edf-408f-8784-abad44adebd4.png" alt="The Capital City" class="capital-image">
                    <p class="capital-description">Behold! Our magnificent capital "city" (technically a hamlet) where all 47-89 of our citizens enjoy the finest in bureaucratic services!</p>
                </div>
            </div>
        </section>

        <!-- Recent Complaints Feed -->
        <section id="recent-complaints" class="section complaints-feed">
            <div class="feed-container">
                <div class="feed-header">
                    <h2 class="feed-title">üì∫ LIVE COMPLAINT FEED üì∫</h2>
                    <p class="feed-subtitle">Real-time grievances from our beloved citizens</p>
                    <div class="mantis-chef">
                        <img src="https://user-gen-media-assets.s3.amazonaws.com/gpt4o_images/9f725a1a-bf62-4434-82ba-484f6dec2fa0.png" alt="Mantis Shrimp Chef" class="chef-avatar">
                        <div class="chef-note">"Even our sustainable crustacean chef has complaints about the squeaky pulley system!"</div>
                    </div>
                </div>
                
                <div class="complaint-feed" id="complaintFeed">
                    <div class="feed-item">
                        <div class="complainant">#Citizen42</div>
                        <div class="complaint-text">The brass pulley outside my window squeaks at 3 AM every night! #NoisePollution</div>
                        <div class="timestamp">Filed 2 hours ago</div>
                        <div class="status status--warning">Requires Which-Doctor consultation</div>
                    </div>
                    
                    <div class="feed-item">
                        <div class="complainant">#UnauthorizedResident48</div>
                        <div class="complaint-text">Someone stole my baby half again! This is the third time this month! #JusticeForBabies</div>
                        <div class="timestamp">Filed 4 hours ago</div>
                        <div class="status status--error">Requires 23 additional signatures</div>
                    </div>
                    
                    <div class="feed-item">
                        <div class="complainant">#Citizen7</div>
                        <div class="complaint-text">Pip keeps trying to process my grocery list as official documentation #PolliwogProblems</div>
                        <div class="timestamp">Filed 6 hours ago</div>
                        <div class="status status--success">Resolved via meme classification</div>
                    </div>
                    
                    <div class="feed-item">
                        <div class="complainant">#CensusDisputed89</div>
                        <div class="complaint-text">My hashtag was stolen by Citizen #23! I demand keyword compensation! #HashtagTheft</div>
                        <div class="timestamp">Filed 8 hours ago</div>
                        <div class="status status--info">Under palimpsest review</div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <style>
        /* Design System Variables */
        :root {
            /* Base Design System */
            --color-white: rgba(255, 255, 255, 1);
            --color-black: rgba(0, 0, 0, 1);
            --color-cream-50: rgba(252, 252, 249, 1);
            --color-cream-100: rgba(255, 255, 253, 1);
            --color-gray-200: rgba(245, 245, 245, 1);
            --color-gray-300: rgba(167, 169, 169, 1);
            --color-gray-400: rgba(119, 124, 124, 1);
            --color-slate-500: rgba(98, 108, 113, 1);
            --color-brown-600: rgba(94, 82, 64, 1);
            --color-charcoal-700: rgba(31, 33, 33, 1);
            --color-charcoal-800: rgba(38, 40, 40, 1);
            --color-slate-900: rgba(19, 52, 59, 1);
            --color-teal-300: rgba(50, 184, 198, 1);
            --color-teal-400: rgba(45, 166, 178, 1);
            --color-teal-500: rgba(33, 128, 141, 1);
            --color-teal-600: rgba(29, 116, 128, 1);
            --color-teal-700: rgba(26, 104, 115, 1);
            --color-teal-800: rgba(41, 150, 161, 1);
            --color-red-400: rgba(255, 84, 89, 1);
            --color-red-500: rgba(192, 21, 47, 1);
            --color-orange-400: rgba(230, 129, 97, 1);
            --color-orange-500: rgba(168, 75, 47, 1);

            /* RGB versions for opacity control */
            --color-brown-600-rgb: 94, 82, 64;
            --color-teal-500-rgb: 33, 128, 141;
            --color-slate-900-rgb: 19, 52, 59;
            --color-slate-500-rgb: 98, 108, 113;

            /* Semantic Colors */
            --color-background: var(--color-cream-50);
            --color-surface: var(--color-cream-100);
            --color-text: var(--color-slate-900);
            --color-text-secondary: var(--color-slate-500);
            --color-primary: var(--color-teal-500);
            --color-primary-hover: var(--color-teal-600);
            --color-border: rgba(var(--color-brown-600-rgb), 0.2);

            /* Custom Fairy Tale Variables */
            --fairy-tale-purple: #6B46C1;
            --fairy-tale-pink: #EC4899;
            --fairy-tale-gold: #F59E0B;
            --fairy-tale-emerald: #059669;
            --glitch-cyan: #00FFFF;
            --glitch-magenta: #FF00FF;
            --y2k-blue: #0080FF;
            --y2k-green: #00FF80;
            --parchment: #F5F1E8;
            --ancient-bronze: #CD7F32;

            /* Typography */
            --font-family-base: "FKGroteskNeue", "Comic Sans MS", "Papyrus", cursive, fantasy;
            --font-family-ancient: "Times New Roman", serif;
            --font-family-glitch: "Courier New", monospace;
            --font-size-xs: 11px;
            --font-size-sm: 12px;
            --font-size-base: 14px;
            --font-size-lg: 16px;
            --font-size-xl: 18px;
            --font-size-2xl: 20px;
            --font-size-3xl: 24px;
            --font-size-4xl: 30px;
            --font-weight-normal: 400;
            --font-weight-medium: 500;
            --font-weight-bold: 600;

            /* Spacing */
            --space-4: 4px;
            --space-8: 8px;
            --space-12: 12px;
            --space-16: 16px;
            --space-20: 20px;
            --space-24: 24px;
            --space-32: 32px;
            --space-48: 48px;
            --space-64: 64px;

            /* Border Radius */
            --radius-base: 8px;
            --radius-lg: 12px;
            --radius-full: 9999px;

            /* Animation */
            --duration-fast: 150ms;
            --duration-normal: 250ms;
            --duration-slow: 500ms;
            --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* Dark mode adjustments */
        @media (prefers-color-scheme: dark) {
            :root {
                --color-background: var(--color-charcoal-700);
                --color-surface: var(--color-charcoal-800);
                --color-text: var(--color-gray-200);
                --color-text-secondary: var(--color-gray-300);
                --color-primary: var(--color-teal-300);
            }
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-family-base);
            background: linear-gradient(135deg, var(--color-background) 0%, var(--parchment) 100%);
            color: var(--color-text);
            line-height: 1.6;
            overflow-x: hidden;
            cursor: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3" fill="%23EC4899"/></svg>') 10 10, auto;
        }

        /* Cursor Trail Effect */
        .cursor-trail {
            position: fixed;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, var(--glitch-cyan) 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: difference;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        /* Royal Seal Navigation */
        .royal-seal {
            position: fixed;
            top: var(--space-20);
            right: var(--space-20);
            z-index: 1000;
        }
        
        .seal-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: rgba(var(--color-surface), 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-full);
            padding: var(--space-12);
            border: 3px solid var(--fairy-tale-gold);
            box-shadow: 0 4px 20px rgba(var(--color-teal-500-rgb), 0.3);
        }
        
        .official-stamp {
            width: 50px;
            height: 50px;
            object-fit: contain;
            animation: float 3s ease-in-out infinite;
        }
        
        .seal-text {
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-bold);
            color: var(--fairy-tale-gold);
            margin-top: var(--space-4);
        }

        /* Header Section Styles */
        .royal-header {
            position: relative;
            text-align: center;
            color: white;
        }
        
        .throne-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.3;
            z-index: 1;
        }
        
        .header-content {
            position: relative;
            z-index: 2;
            padding: var(--space-32);
        }
        
        .royal-title {
            font-size: clamp(2rem, 6vw, 4rem);
            margin-bottom: var(--space-16);
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
            font-weight: var(--font-weight-bold);
        }
        
        .royal-subtitle {
            font-size: var(--font-size-xl);
            margin-bottom: var(--space-24);
            opacity: 0.9;
        }
        
        .kingdom-stats {
            display: flex;
            justify-content: center;
            gap: var(--space-32);
            font-size: var(--font-size-sm);
            opacity: 0.8;
        }
        
        .citizen-count, .complaints-today {
            background: rgba(0, 0, 0, 0.5);
            padding: var(--space-8) var(--space-16);
            border-radius: var(--radius-full);
            border: 1px solid var(--fairy-tale-gold);
        }

        /* Progress Bar */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background: linear-gradient(90deg, var(--fairy-tale-purple), var(--fairy-tale-pink), var(--fairy-tale-gold));
            z-index: 1001;
            transition: width 0.1s ease;
        }

        /* Main Content */
        .main-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: var(--space-20);
        }

        .section {
            min-height: 100vh;
            padding: var(--space-64) var(--space-32);
            margin-bottom: var(--space-48);
            border-radius: var(--radius-lg);
            position: relative;
            overflow: hidden;
        }

        .section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(var(--color-teal-500-rgb), 0.05) 0%, transparent 50%);
            animation: rotate 20s linear infinite;
            z-index: -1;
        }

        /* Header Section */
        .header-section {
            background: linear-gradient(135deg, var(--fairy-tale-purple) 0%, var(--fairy-tale-pink) 50%, var(--fairy-tale-gold) 100%);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 60vh;
        }

        .glitch-container {
            position: relative;
            z-index: 2;
        }

        .main-title {
            font-size: clamp(2rem, 8vw, 6rem);
            font-weight: var(--font-weight-bold);
            margin-bottom: var(--space-24);
            text-shadow: 3px 3px 0 var(--glitch-magenta), -3px -3px 0 var(--glitch-cyan);
        }

        .glitch {
            position: relative;
            animation: glitch 2s infinite;
        }

        .glitch::before,
        .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .glitch::before {
            animation: glitch-1 0.5s infinite;
            color: var(--glitch-cyan);
            z-index: -1;
        }

        .glitch::after {
            animation: glitch-2 0.5s infinite;
            color: var(--glitch-magenta);
            z-index: -2;
        }

        .subtitle {
            font-size: var(--font-size-xl);
            margin-bottom: var(--space-16);
            opacity: 0.9;
        }

        .subtitle-secondary {
            font-size: var(--font-size-base);
            font-family: var(--font-family-glitch);
            opacity: 0.7;
        }

        .glitch-small {
            animation: glitch-small 1s infinite;
        }

        .decorative-elements {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .floating-pea,
        .floating-crown,
        .floating-scroll {
            position: absolute;
            font-size: var(--font-size-4xl);
            animation: float 4s ease-in-out infinite;
        }

        .floating-pea {
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }

        .floating-crown {
            top: 30%;
            right: 15%;
            animation-delay: 1.5s;
        }

        .floating-scroll {
            bottom: 25%;
            left: 20%;
            animation-delay: 3s;
        }

        /* Form Section */
        .form-section {
            background: linear-gradient(135deg, var(--parchment) 0%, rgba(var(--fairy-tale-gold), 0.1) 100%);
            border: 3px solid var(--fairy-tale-gold);
            box-shadow: 0 0 30px rgba(var(--fairy-tale-gold), 0.3);
        }
        
        .form-container {
            max-width: 800px;
            margin: 0 auto;
            padding: var(--space-32);
        }
        
        .form-header {
            text-align: center;
            margin-bottom: var(--space-48);
        }
        
        .form-title {
            font-size: var(--font-size-3xl);
            color: var(--fairy-tale-purple);
            margin-bottom: var(--space-16);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .form-subtitle {
            font-size: var(--font-size-lg);
            color: var(--color-text-secondary);
            margin-bottom: var(--space-24);
        }
        
        .pip-helper {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-16);
            background: rgba(var(--y2k-blue), 0.1);
            padding: var(--space-16);
            border-radius: var(--radius-lg);
            border: 2px dashed var(--y2k-blue);
            margin: var(--space-24) 0;
        }
        
        .pip-avatar {
            width: 80px;
            height: 80px;
            object-fit: contain;
            animation: float 4s ease-in-out infinite;
        }
        
        .pip-speech {
            max-width: 400px;
            font-size: var(--font-size-base);
            color: var(--color-text);
            font-style: italic;
            position: relative;
        }
        
        .pip-speech::before {
            content: 'üí¨';
            position: absolute;
            left: -20px;
            top: -5px;
        }

        /* Royal Form Styles */
        .royal-form {
            background: rgba(var(--color-surface), 0.9);
            padding: var(--space-32);
            border-radius: var(--radius-lg);
            border: 2px solid var(--fairy-tale-gold);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .royal-form .form-group {
            margin-bottom: var(--space-24);
        }
        
        .royal-form .form-label {
            display: block;
            margin-bottom: var(--space-8);
            font-weight: var(--font-weight-bold);
            color: var(--fairy-tale-purple);
            font-size: var(--font-size-base);
        }
        
        .royal-form .form-control {
            width: 100%;
            padding: var(--space-12) var(--space-16);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-base);
            font-size: var(--font-size-base);
            background: var(--color-surface);
            color: var(--color-text);
            transition: all var(--duration-fast) var(--ease-standard);
        }
        
        .royal-form .form-control:focus {
            outline: none;
            border-color: var(--fairy-tale-purple);
            box-shadow: 0 0 0 3px rgba(var(--fairy-tale-purple), 0.2);
        }
        
        .royal-form textarea.form-control {
            resize: vertical;
            min-height: 120px;
        }
        
        .signatures-section {
            background: var(--color-bg-4);
            padding: var(--space-16);
            border-radius: var(--radius-base);
            margin: var(--space-24) 0;
            border: 2px dashed var(--color-red-400);
        }
        
        .signature-counter {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: var(--space-16);
        }
        
        .signature-label {
            font-weight: var(--font-weight-bold);
            color: var(--color-text);
        }
        
        .signature-count {
            background: var(--color-red-500);
            color: white;
            padding: var(--space-8) var(--space-16);
            border-radius: var(--radius-full);
            font-weight: var(--font-weight-bold);
            font-size: var(--font-size-lg);
            min-width: 40px;
            text-align: center;
            animation: pulse 2s infinite;
        }
        
        .signature-btn {
            background: var(--fairy-tale-pink);
            color: white;
            border: none;
            padding: var(--space-8) var(--space-16);
            border-radius: var(--radius-base);
            cursor: pointer;
            font-size: var(--font-size-sm);
            transition: all var(--duration-fast) var(--ease-standard);
        }
        
        .signature-btn:hover {
            background: var(--fairy-tale-purple);
            transform: translateY(-2px);
        }
        
        .royal-submit {
            width: 100%;
            padding: var(--space-16) var(--space-24);
            font-size: var(--font-size-lg);
            font-weight: var(--font-weight-bold);
            background: linear-gradient(135deg, var(--fairy-tale-purple), var(--fairy-tale-pink));
            border: none;
            border-radius: var(--radius-base);
            color: white;
            cursor: pointer;
            transition: all var(--duration-normal) var(--ease-standard);
            box-shadow: 0 4px 15px rgba(var(--fairy-tale-purple), 0.4);
        }
        
        .royal-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(var(--fairy-tale-purple), 0.6);
        }
        
        .royal-submit:active {
            transform: translateY(-1px);
        }
        
        .processing-notice {
            text-align: center;
            margin-top: var(--space-12);
            color: var(--color-text-secondary);
        }

        /* Response Section */
        .response-section {
            background: linear-gradient(135deg, var(--fairy-tale-emerald) 0%, var(--color-teal-500) 100%);
            color: white;
            border: 3px solid var(--fairy-tale-emerald);
        }
        
        .response-container {
            max-width: 800px;
            margin: 0 auto;
            padding: var(--space-32);
        }
        
        .official-response {
            background: rgba(255, 255, 255, 0.95);
            color: var(--color-text);
            padding: var(--space-32);
            border-radius: var(--radius-lg);
            border: 3px solid var(--fairy-tale-gold);
            position: relative;
            overflow: hidden;
        }
        
        .response-header {
            text-align: center;
            margin-bottom: var(--space-32);
        }
        
        .response-title {
            font-size: var(--font-size-3xl);
            color: var(--fairy-tale-purple);
            margin-bottom: var(--space-16);
        }
        
        .processing-animation {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-12);
            font-style: italic;
            color: var(--color-text-secondary);
        }
        
        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid var(--color-border);
            border-top: 2px solid var(--fairy-tale-purple);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        .stamp-overlay {
            position: absolute;
            top: var(--space-20);
            right: var(--space-20);
            opacity: 0.7;
            transform: rotate(15deg);
        }
        
        .response-stamp {
            width: 80px;
            height: 80px;
            object-fit: contain;
        }
        
        .response-text {
            font-size: var(--font-size-lg);
            background: var(--color-bg-1);
            padding: var(--space-24);
            border-radius: var(--radius-base);
            border-left: 5px solid var(--fairy-tale-purple);
            margin: var(--space-24) 0;
            font-weight: var(--font-weight-medium);
        }
        
        .response-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-16);
            margin: var(--space-24) 0;
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
        }
        
        .complaint-number, .timestamp {
            background: var(--color-bg-2);
            padding: var(--space-8) var(--space-12);
            border-radius: var(--radius-base);
        }
        
        .which-doctors {
            margin-top: var(--space-32);
            text-align: center;
        }
        
        .which-docs-img {
            width: 150px;
            height: 100px;
            object-fit: cover;
            border-radius: var(--radius-base);
            margin-bottom: var(--space-12);
        }
        
        .which-docs-note {
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
            font-style: italic;
        }
        
        .response-actions {
            display: flex;
            gap: var(--space-16);
            justify-content: center;
            margin-top: var(--space-32);
        }
        
        .capital-view {
            margin-top: var(--space-32);
            text-align: center;
        }
        
        .capital-image {
            width: 100%;
            max-width: 600px;
            height: 300px;
            object-fit: cover;
            border-radius: var(--radius-lg);
            border: 3px solid var(--fairy-tale-gold);
            margin-bottom: var(--space-16);
        }
        
        .capital-description {
            font-size: var(--font-size-lg);
            color: var(--color-text);
            font-style: italic;
            background: rgba(255, 255, 255, 0.9);
            padding: var(--space-16);
            border-radius: var(--radius-base);
        }

        /* Complaints Feed */
        .complaints-feed {
            background: linear-gradient(135deg, var(--color-charcoal-700) 0%, var(--color-slate-900) 100%);
            color: var(--color-gray-200);
            border: 3px solid var(--y2k-green);
        }
        
        .feed-container {
            max-width: 900px;
            margin: 0 auto;
            padding: var(--space-32);
        }
        
        .feed-header {
            text-align: center;
            margin-bottom: var(--space-48);
        }
        
        .feed-title {
            font-size: var(--font-size-3xl);
            color: var(--y2k-green);
            margin-bottom: var(--space-16);
            animation: flicker 3s infinite;
        }
        
        .feed-subtitle {
            color: var(--color-gray-300);
            margin-bottom: var(--space-24);
        }
        
        .mantis-chef {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-16);
            background: rgba(var(--fairy-tale-orange), 0.1);
            padding: var(--space-16);
            border-radius: var(--radius-base);
            border: 2px dashed var(--fairy-tale-orange);
        }
        
        .chef-avatar {
            width: 60px;
            height: 60px;
            object-fit: contain;
        }
        
        .chef-note {
            color: var(--color-gray-200);
            font-style: italic;
        }
        
        .complaint-feed {
            display: grid;
            gap: var(--space-16);
        }
        
        .feed-item {
            background: rgba(var(--color-surface), 0.1);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            padding: var(--space-16);
            transition: all var(--duration-fast) var(--ease-standard);
        }
        
        .feed-item:hover {
            background: rgba(var(--color-surface), 0.2);
            border-color: var(--y2k-green);
        }
        
        .complainant {
            font-weight: var(--font-weight-bold);
            color: var(--y2k-green);
            font-size: var(--font-size-sm);
            margin-bottom: var(--space-4);
        }
        
        .complaint-text {
            margin-bottom: var(--space-8);
            line-height: 1.5;
        }
        
        .feed-item .timestamp {
            font-size: var(--font-size-xs);
            color: var(--color-text-secondary);
            margin-bottom: var(--space-8);
        }
        
        .feed-item .status {
            font-size: var(--font-size-xs);
        }

        .hashtag {
            color: var(--y2k-blue);
            font-weight: var(--font-weight-bold);
        }

        .keyword {
            background: var(--fairy-tale-gold);
            padding: var(--space-4) var(--space-8);
            border-radius: var(--radius-base);
            color: white;
            font-weight: var(--font-weight-bold);
        }

        .whisper {
            font-style: italic;
            color: var(--color-text-secondary);
            font-size: var(--font-size-sm);
        }

        .caps-lock {
            font-weight: var(--font-weight-bold);
            color: var(--fairy-tale-pink);
        }

        .story-end {
            background: rgba(var(--color-charcoal-700), 0.05);
            padding: var(--space-24);
            border-radius: var(--radius-lg);
            border-left: 5px solid var(--fairy-tale-purple);
            font-style: italic;
            margin-top: var(--space-32);
        }

        /* Chapter Sections */
        .chapter-section {
            background: linear-gradient(135deg, rgba(var(--color-teal-500-rgb), 0.02) 0%, rgba(var(--fairy-tale-purple), 0.05) 100%);
            border: 2px solid rgba(var(--fairy-tale-purple), 0.2);
        }

        .chapter-title {
            font-size: var(--font-size-3xl);
            color: var(--fairy-tale-purple);
            margin-bottom: var(--space-32);
            text-transform: lowercase;
            font-family: var(--font-family-glitch);
        }

        .chapter-content p {
            margin-bottom: var(--space-16);
            font-size: var(--font-size-base);
        }

        .pea-emphasis {
            background: linear-gradient(135deg, var(--fairy-tale-emerald), var(--y2k-green));
            color: white;
            padding: var(--space-4) var(--space-8);
            border-radius: var(--radius-full);
            font-weight: var(--font-weight-bold);
            animation: pulse 2s infinite;
        }

        .chapter-end,
        .final-end {
            background: rgba(var(--fairy-tale-purple), 0.1);
            padding: var(--space-20);
            border-radius: var(--radius-lg);
            margin-top: var(--space-24);
            text-align: center;
            border: 2px dashed var(--fairy-tale-purple);
        }

        /* Bananas Chapter Special Styling */
        .bananas-chapter {
            background: linear-gradient(135deg, var(--fairy-tale-gold) 0%, var(--fairy-tale-pink) 100%);
            color: white;
        }

        .night-text {
            text-align: center;
            margin: var(--space-32) 0;
        }

        .night-text p {
            font-size: var(--font-size-2xl);
            margin-bottom: var(--space-8);
        }

        .salty-text {
            font-family: var(--font-family-glitch);
            font-size: var(--font-size-xl) !important;
            animation: wiggle 0.5s infinite;
            color: var(--glitch-cyan);
            text-shadow: 2px 2px 0 var(--glitch-magenta);
        }

        .scream-text {
            color: var(--color-red-400);
            font-weight: var(--font-weight-bold);
            animation: shake 0.3s infinite;
        }

        .pea-declaration {
            background: rgba(255, 255, 255, 0.9);
            color: var(--color-charcoal-700);
            padding: var(--space-24);
            border-radius: var(--radius-lg);
            margin: var(--space-32) 0;
            border: 3px solid var(--color-red-400);
            box-shadow: 0 0 20px rgba(var(--color-red-400), 0.5);
        }

        .frustrated {
            color: var(--color-red-500);
            font-weight: var(--font-weight-bold);
        }

        .continuation {
            text-align: center;
            font-style: italic;
            margin-top: var(--space-32);
        }

        /* Dialogue Styling */
        .dialogue-sequence {
            background: rgba(255, 255, 255, 0.8);
            padding: var(--space-24);
            border-radius: var(--radius-lg);
            margin: var(--space-32) 0;
        }

        .dialogue {
            font-weight: var(--font-weight-bold);
            padding: var(--space-4) var(--space-8);
            border-radius: var(--radius-base);
            margin: 0 var(--space-4);
        }

        .dr-which {
            background: var(--color-teal-300);
            color: white;
        }

        .queen-mother {
            background: var(--fairy-tale-purple);
            color: white;
        }

        .baby {
            background: var(--fairy-tale-pink);
            color: white;
            font-size: var(--font-size-sm);
        }

        /* Radio Sections */
        .radio-section {
            background: linear-gradient(135deg, var(--color-charcoal-700) 0%, var(--color-charcoal-800) 100%);
            color: var(--y2k-green);
            font-family: var(--font-family-glitch);
            border: 3px solid var(--y2k-green);
            position: relative;
        }

        .radio-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(0, 255, 0, 0.03) 2px,
                rgba(0, 255, 0, 0.03) 4px
            );
            pointer-events: none;
            animation: scan-lines 2s linear infinite;
        }

        .radio-2 {
            background: linear-gradient(135deg, var(--color-slate-900) 0%, var(--color-charcoal-700) 100%);
            color: var(--glitch-cyan);
            border-color: var(--glitch-cyan);
        }

        .radio-title {
            font-size: var(--font-size-2xl);
            text-align: center;
            margin-bottom: var(--space-16);
            animation: flicker 3s infinite;
        }

        .radio-subtitle {
            font-size: var(--font-size-sm);
            text-align: center;
            margin-bottom: var(--space-32);
            opacity: 0.8;
            font-style: italic;
        }

        .radio-content p {
            margin-bottom: var(--space-16);
            font-size: var(--font-size-base);
        }

        .static-break {
            text-align: center;
            font-weight: var(--font-weight-bold);
            margin: var(--space-32) 0;
            padding: var(--space-16);
            background: rgba(0, 0, 0, 0.5);
            border-radius: var(--radius-base);
            animation: static 0.5s infinite;
        }

        /* Final Chapter Special Elements */
        .final-chapter {
            background: linear-gradient(135deg, var(--parchment) 0%, rgba(var(--fairy-tale-emerald), 0.1) 100%);
            border: 3px solid var(--fairy-tale-emerald);
        }

        .polywog-emphasis {
            background: var(--y2k-blue);
            color: white;
            padding: var(--space-4) var(--space-8);
            border-radius: var(--radius-base);
            font-weight: var(--font-weight-bold);
        }

        .conspiracy {
            background: var(--color-red-500);
            color: white;
            padding: var(--space-4) var(--space-8);
            border-radius: var(--radius-base);
            font-weight: var(--font-weight-bold);
            animation: blink 1s infinite;
        }

        .tech-specs {
            font-family: var(--font-family-glitch);
            background: var(--color-charcoal-700);
            color: var(--y2k-green);
            padding: var(--space-4) var(--space-8);
            border-radius: var(--radius-base);
        }

        .pun {
            background: var(--fairy-tale-gold);
            color: white;
            padding: var(--space-4) var(--space-8);
            border-radius: var(--radius-base);
            font-style: italic;
        }

        .story-continuation {
            background: rgba(var(--fairy-tale-emerald), 0.1);
            padding: var(--space-24);
            border-radius: var(--radius-lg);
            margin: var(--space-32) 0;
            border-left: 5px solid var(--fairy-tale-emerald);
        }

        /* Section Titles */
        .section-title {
            font-size: var(--font-size-3xl);
            margin-bottom: var(--space-32);
            text-align: center;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, var(--fairy-tale-purple), var(--fairy-tale-pink));
            border-radius: var(--radius-full);
        }

        /* Animations */
        @keyframes glitch {
            0%, 100% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
        }

        @keyframes glitch-1 {
            0%, 100% { transform: translate(0); }
            10% { transform: translate(-2px, -2px); }
            20% { transform: translate(2px, 2px); }
            30% { transform: translate(-2px, 2px); }
            40% { transform: translate(2px, -2px); }
            50% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            70% { transform: translate(-2px, 2px); }
            80% { transform: translate(2px, -2px); }
            90% { transform: translate(-2px, -2px); }
        }

        @keyframes glitch-2 {
            0%, 100% { transform: translate(0); }
            10% { transform: translate(2px, 2px); }
            20% { transform: translate(-2px, -2px); }
            30% { transform: translate(2px, -2px); }
            40% { transform: translate(-2px, 2px); }
            50% { transform: translate(2px, 2px); }
            60% { transform: translate(-2px, -2px); }
            70% { transform: translate(2px, -2px); }
            80% { transform: translate(-2px, 2px); }
            90% { transform: translate(2px, 2px); }
        }

        @keyframes glitch-small {
            0%, 100% { transform: translate(0); }
            25% { transform: translate(-1px, 1px); }
            75% { transform: translate(1px, -1px); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-2deg); }
            75% { transform: rotate(2deg); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-2px); }
            75% { transform: translateX(2px); }
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes static {
            0% { transform: translateX(0); }
            10% { transform: translateX(-1px); }
            20% { transform: translateX(1px); }
            30% { transform: translateX(-1px); }
            40% { transform: translateX(1px); }
            50% { transform: translateX(0); }
            60% { transform: translateX(-1px); }
            70% { transform: translateX(1px); }
            80% { transform: translateX(-1px); }
            90% { transform: translateX(1px); }
            100% { transform: translateX(0); }
        }

        @keyframes scan-lines {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .main-content {
                padding: var(--space-12);
            }

            .section {
                padding: var(--space-24) var(--space-16);
                min-height: auto;
            }

            .royal-seal {
                top: var(--space-12);
                right: var(--space-12);
            }

            .royal-title {
                font-size: clamp(1.5rem, 6vw, 2.5rem);
            }

            .kingdom-stats {
                flex-direction: column;
                gap: var(--space-8);
            }
            
            .pip-helper {
                flex-direction: column;
                text-align: center;
            }
            
            .signature-counter {
                flex-direction: column;
                gap: var(--space-8);
                text-align: center;
            }
            
            .response-details {
                grid-template-columns: 1fr;
            }
            
            .response-actions {
                flex-direction: column;
            }
            
            .mantis-chef {
                flex-direction: column;
                text-align: center;
            }
        }

        /* Custom Animations & Effects */
        .feed-item:nth-child(even) {
            animation: slideInLeft 0.5s ease;
        }
        
        .feed-item:nth-child(odd) {
            animation: slideInRight 0.5s ease;
        }
        
        @keyframes slideInLeft {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideInRight {
            from { transform: translateX(20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .royal-form {
            animation: fadeInUp 0.8s ease;
        }
        
        @keyframes fadeInUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Print Styles */
        @media print {
            .royal-seal,
            .progress-bar {
                display: none;
            }

            .section {
                page-break-inside: avoid;
                min-height: auto;
            }
            
            .official-response {
                border: 2px solid black;
                box-shadow: none;
            }
        }
    </style>

    <script>
        // Complaint form functionality
        const complaintForm = document.getElementById('complaintForm');
        const responseSection = document.getElementById('response-section');
        const signatureCount = document.getElementById('signatureCount');
        const moreSignaturesBtn = document.getElementById('moreSignatures');
        const complaintsCountEl = document.getElementById('complaintsCount');
        const progressBar = document.getElementById('progressBar');
        const cursorTrail = document.querySelector('.cursor-trail');
        
        // Responses from the application data
        const responses = [
            "Complaint FILED! Return next week with 12 additional signatures.",
            "Your complaint has been assigned hashtag #C-10847",
            "Thank you. The Queen Regent will see you personally in 6-8 business days.",
            "ERROR: This complaint requires a which-doctor's note.",
            "Your grievance has been added to the live social media feed!",
            "Complaint received! The princess will address this once she remembers her name.",
            "PROCESSED: Your complaint has been thoroughly documented.",
            "Thank you for your patience. This will be resolved in 3-5 business lifetimes.",
            "Your complaint has been forwarded to all which-doctors (none know which one should handle it).",
            "ACCEPTED: Please take a number. You are citizen #47 in line.",
            "Complaint logged! This is live-action meme #892 today.",
            "Thank you. Your paperwork is a beautiful addition to our palimpsest."
        ];
        
        let currentSignatures = 1;
        let complaintCounter = 847;
        
        // Update complaint counter randomly
        function updateComplaintCounter() {
            complaintCounter += Math.floor(Math.random() * 5) + 1;
            complaintsCountEl.textContent = complaintCounter;
        }
        
        // Increase signature requirements
        moreSignaturesBtn.addEventListener('click', () => {
            const increases = [3, 7, 12, 23, 47];
            const increase = increases[Math.floor(Math.random() * increases.length)];
            currentSignatures += increase;
            signatureCount.textContent = currentSignatures;
            
            // Fun messages
            const messages = [
                "Oh dear! More signatures needed!",
                "Bureaucracy demands more documentation!",
                "The pea requires additional verification!",
                "Pip is requesting more paperwork!"
            ];
            
            const message = messages[Math.floor(Math.random() * messages.length)];
            moreSignaturesBtn.textContent = `üòÖ ${message}`;
            
            setTimeout(() => {
                moreSignaturesBtn.textContent = 'üòÖ Oh no, need more?';
            }, 2000);
        });
        
        // Form submission handling
        complaintForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Get form data
            const formData = new FormData(complaintForm);
            const citizenNumber = formData.get('citizenNumber');
            const complaintType = formData.get('complaintType');
            const description = formData.get('complaintDescription');
            
            // Show response section
            responseSection.style.display = 'block';
            responseSection.scrollIntoView({ behavior: 'smooth' });
            
            // Show processing animation
            const processingAnimation = document.querySelector('.processing-animation');
            const responseContent = document.getElementById('responseContent');
            const responseActions = document.getElementById('responseActions');
            
            processingAnimation.style.display = 'flex';
            responseContent.style.display = 'none';
            responseActions.style.display = 'none';
            
            // Simulate processing delay
            setTimeout(() => {
                // Hide processing, show response
                processingAnimation.style.display = 'none';
                responseContent.style.display = 'block';
                responseActions.style.display = 'flex';
                
                // Generate response
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                document.getElementById('responseText').textContent = randomResponse;
                
                // Generate complaint number
                const complaintNumber = `C-${Math.floor(Math.random() * 99999) + 10000}`;
                document.getElementById('complaintNumber').textContent = complaintNumber;
                
                // Set timestamp
                const now = new Date();
                document.getElementById('timestamp').textContent = now.toLocaleString();
                
                // Update complaint counter
                updateComplaintCounter();
                
            }, 2000 + Math.random() * 3000); // Random processing time
        });
        
        // File another complaint button
        document.getElementById('fileAnother').addEventListener('click', () => {
            // Reset form
            complaintForm.reset();
            currentSignatures = Math.floor(Math.random() * 5) + 1;
            signatureCount.textContent = currentSignatures;
            
            // Hide response section
            responseSection.style.display = 'none';
            
            // Scroll back to form
            document.getElementById('complaint-form').scrollIntoView({ behavior: 'smooth' });
        });
        
        // View capital button
        document.getElementById('viewCapital').addEventListener('click', () => {
            const capitalView = document.getElementById('capitalView');
            if (capitalView.style.display === 'none' || !capitalView.style.display) {
                capitalView.style.display = 'block';
                document.getElementById('viewCapital').textContent = 'üö´ Hide Our Magnificent Capital';
            } else {
                capitalView.style.display = 'none';
                document.getElementById('viewCapital').textContent = 'üè∞ View Our Magnificent Capital';
            }
        });
        
        // Progress bar functionality
        function updateProgressBar() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrollPercent = (scrollTop / scrollHeight) * 100;
            progressBar.style.width = scrollPercent + '%';
        }
        
        // Cursor trail effect
        let mouseX = 0;
        let mouseY = 0;
        let trailX = 0;
        let trailY = 0;
        
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });
        
        function updateCursorTrail() {
            const dx = mouseX - trailX;
            const dy = mouseY - trailY;
            
            trailX += dx * 0.1;
            trailY += dy * 0.1;
            
            cursorTrail.style.left = trailX - 10 + 'px';
            cursorTrail.style.top = trailY - 10 + 'px';
            cursorTrail.style.opacity = '0.6';
            
            requestAnimationFrame(updateCursorTrail);
        }
        
        // Start cursor trail animation
        updateCursorTrail();
        
        // Hide cursor trail when mouse leaves window
        document.addEventListener('mouseleave', () => {
            cursorTrail.style.opacity = '0';
        });
        
        document.addEventListener('mouseenter', () => {
            cursorTrail.style.opacity = '0.6';
        });
        
        // Auto-update complaint counter periodically
        setInterval(updateComplaintCounter, 30000); // Every 30 seconds
        
        // Add some dynamic effects to the feed
        function animateFeedItems() {
            const feedItems = document.querySelectorAll('.feed-item');
            feedItems.forEach((item, index) => {
                setTimeout(() => {
                    item.style.opacity = '0.8';
                    setTimeout(() => {
                        item.style.opacity = '1';
                    }, 200);
                }, index * 100);
            });
        }
        
        // Animate feed items on page load
        setTimeout(animateFeedItems, 1000);
        
        // Scroll event listeners
        window.addEventListener('scroll', () => {
            updateProgressBar();
        });
        
        // Form field enhancements
        const citizenSelect = document.getElementById('citizenNumber');
        const complaintSelect = document.getElementById('complaintType');
        
        // Add some flavor text on selection
        citizenSelect.addEventListener('change', (e) => {
            const value = e.target.value;
            if (value === '48-unauthorized') {
                showTooltip(e.target, 'Unauthorized residents welcome! We love paperwork.');
            } else if (value === '89-disputed') {
                showTooltip(e.target, 'Census disputes are our specialty!');
            } else if (value === 'refuse') {
                showTooltip(e.target, 'A rebel! We admire your spirit.');
            }
        });
        
        complaintSelect.addEventListener('change', (e) => {
            const value = e.target.value;
            if (value === 'other') {
                // Dramatically increase signature requirement
                currentSignatures = 47;
                signatureCount.textContent = currentSignatures;
                showTooltip(e.target, '47 signatures required for "Other" complaints!');
            } else if (value === 'which-doctor') {
                showTooltip(e.target, 'Our which-doctors are... confusing but helpful!');
            }
        });
        
        // Tooltip function
        function showTooltip(element, text) {
            const tooltip = document.createElement('div');
            tooltip.className = 'tooltip';
            tooltip.textContent = text;
            tooltip.style.cssText = `
                position: absolute;
                background: var(--fairy-tale-purple);
                color: white;
                padding: 8px 12px;
                border-radius: 6px;
                font-size: 12px;
                z-index: 1000;
                opacity: 0;
                transition: opacity 0.3s ease;
                pointer-events: none;
            `;
            
            document.body.appendChild(tooltip);
            
            const rect = element.getBoundingClientRect();
            tooltip.style.left = rect.left + 'px';
            tooltip.style.top = (rect.top - tooltip.offsetHeight - 10) + 'px';
            
            setTimeout(() => {
                tooltip.style.opacity = '1';
            }, 100);
            
            setTimeout(() => {
                tooltip.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(tooltip);
                }, 300);
            }, 3000);
        }
        
        // Intersection Observer for section animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const sectionObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);
        
        // Apply initial styles and observe sections
        document.querySelectorAll('.section').forEach(section => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(50px)';
            section.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
            sectionObserver.observe(section);
        });
        
        // Add random glitch effects to the feed
        function addRandomGlitch() {
            const glitchElements = document.querySelectorAll('.feed-title, .signature-count, .royal-title');
            
            if (glitchElements.length > 0) {
                const randomElement = glitchElements[Math.floor(Math.random() * glitchElements.length)];
                randomElement.style.animation = 'glitch 0.3s ease';
                
                setTimeout(() => {
                    randomElement.style.animation = '';
                }, 300);
            }
        }
        
        // Trigger random glitch effects
        setInterval(addRandomGlitch, 8000);
        
        // Add some fun randomization to the complaint feed
        function randomizeFeedTimestamps() {
            const timestamps = document.querySelectorAll('.feed-item .timestamp');
            const timeOptions = [
                'Filed 1 hour ago',
                'Filed 3 hours ago',
                'Filed 5 hours ago',
                'Filed 7 hours ago',
                'Filed yesterday',
                'Filed last week (still pending)',
                'Filed during the last eclipse',
                'Filed when the princess remembered her name'
            ];
            
            timestamps.forEach(timestamp => {
                const randomTime = timeOptions[Math.floor(Math.random() * timeOptions.length)];
                timestamp.textContent = randomTime;
            });
        }
        
        // Randomize timestamps occasionally
        setInterval(randomizeFeedTimestamps, 45000);
        
        // Easter eggs - typing "PEA" activates special mode
        let secretCode = [];
        const secretSequence = ['KeyP', 'KeyE', 'KeyA'];
        
        document.addEventListener('keydown', (e) => {
            if (document.activeElement.tagName === 'INPUT' || document.activeElement.tagName === 'TEXTAREA' || document.activeElement.tagName === 'SELECT') {
                return; // Don't trigger if typing in form fields
            }
            
            secretCode.push(e.code);
            if (secretCode.length > secretSequence.length) {
                secretCode.shift();
            }
            
            if (secretCode.join('') === secretSequence.join('')) {
                // Easter egg: Show special pea message
                showSpecialPeaMessage();
                secretCode = [];
            }
        });
        
        function showSpecialPeaMessage() {
            const overlay = document.createElement('div');
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(var(--fairy-tale-purple), 0.9);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                color: white;
                font-size: 2rem;
                text-align: center;
                animation: fadeInUp 0.5s ease;
            `;
            
            overlay.innerHTML = `
                <div>
                    <h2>üü¢ THE PEA KNOWS ALL üü¢</h2>
                    <p>The documentation has been... <em>thoroughly reviewed</em></p>
                    <p style="font-size: 1rem; margin-top: 2rem;">Click to return to bureaucratic reality</p>
                </div>
            `;
            
            overlay.addEventListener('click', () => {
                document.body.removeChild(overlay);
            });
            
            document.body.appendChild(overlay);
            
            setTimeout(() => {
                if (document.body.contains(overlay)) {
                    document.body.removeChild(overlay);
                }
            }, 5000);
        }
        
        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            updateProgressBar();
            
            // Add some initial randomization
            setTimeout(() => {
                currentSignatures = Math.floor(Math.random() * 5) + 1;
                signatureCount.textContent = currentSignatures;
            }, 500);
        });
        
        // Add keyboard navigation and shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && e.ctrlKey) {
                // Ctrl+Enter to quickly submit form (if filled)
                const form = document.getElementById('complaintForm');
                if (form.checkValidity()) {
                    form.dispatchEvent(new Event('submit'));
                }
            }
        });
        
        // Fun loading messages
        const loadingMessages = [
            "Consulting the which-doctors...",
            "Checking with Pip the Polliwog...",
            "Reviewing palimpsest documentation...",
            "Counting signatures (again)...",
            "Squeaking the brass pulley...",
            "Adding to live social media feed...",
            "Waking the Queen Regent...",
            "Ensuring proper notarization..."
        ];
        
        // Update loading message randomly during processing
        function updateLoadingMessage() {
            const processingSpan = document.querySelector('.processing-animation span');
            if (processingSpan && processingSpan.parentElement.style.display !== 'none') {
                const randomMessage = loadingMessages[Math.floor(Math.random() * loadingMessages.length)];
                processingSpan.textContent = randomMessage;
            }
        }
        
        // Change loading message every second during processing
        setInterval(updateLoadingMessage, 1000);
        
        // Add some character to form interactions
        document.addEventListener('DOMContentLoaded', () => {
            // Add hover effects to form elements
            const formControls = document.querySelectorAll('.form-control');
            formControls.forEach(control => {
                control.addEventListener('focus', () => {
                    control.style.transform = 'scale(1.02)';
                    control.style.boxShadow = '0 0 15px rgba(var(--fairy-tale-purple), 0.3)';
                });
                
                control.addEventListener('blur', () => {
                    control.style.transform = 'scale(1)';
                    control.style.boxShadow = '';
                });
            });
        });
    </script>
</body>
</html>