<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Royal Documentation Generator | Kingdom of Bureaucratic Excellence</title>
<link rel="stylesheet" href="https://coaiexist.wtf/pea/pea-nav-medieval-FINAL.css">
<script src="https://coaiexist.wtf/pea/pea-nav-win1100-FINAL.js"></script>


</head>
<body>
    <div class="parchment-bg"></div>
    <div class="wax-seals">
        <div class="wax-seal wax-seal-1">üèõÔ∏è</div>
        <div class="wax-seal wax-seal-2">‚öñÔ∏è</div>
        <div class="wax-seal wax-seal-3">üëë</div>
    </div>
    
    <main class="container">
        <header class="royal-header">
            <div class="coat-of-arms">üè∞</div>
            <h1 class="royal-title">
                <span class="title-line-1">ROYAL DOCUMENTATION BUREAU</span>
                <span class="title-line-2">Official Paperwork Division</span>
                <span class="title-line-3">Est. Year 3200 (Maybe)</span>
            </h1>
            <div class="royal-motto">"Thoroughly Documenting Everything, Thoroughly"</div>
        </header>

        <section class="document-form" id="documentForm">
            <div class="form-parchment">
                <h2 class="form-title">Document Generation Request</h2>
                
                <div class="form-group">
                    <label class="form-label">Citizen Name:</label>
                    <div class="name-input-group">
                        <input type="text" id="citizenName" class="form-input" placeholder="Enter your full royal designation...">
                        <label class="checkbox-group">
                            <input type="checkbox" id="nameforgotten">
                            <span class="checkbox-label">Name Forgotten (Standard Princess Procedure)</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="documentType">Document Type:</label>
                    <select id="documentType" class="form-select">
                        <option value="">Select Official Document Type...</option>
                        <option value="official_complaint">Official Complaint Form</option>
                        <option value="signature_collection">Signature Collection Sheet</option>
                        <option value="pea_documentation">Pea Documentation Report</option>
                        <option value="which_doctor_note">Which-Doctor's Note</option>
                        <option value="sabbatical_request">Hermetic Sabbatical Request</option>
                        <option value="census_update">Citizen Census Update</option>
                        <option value="hashtag_registration">Hashtag Registration</option>
                        <option value="polliwog_maintenance">Polliwog Maintenance Record</option>
                        <option value="royal_decree">Royal Decree</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label" for="dateOption">Official Date:</label>
                    <select id="dateOption" class="form-select">
                        <option value="3rd Tuesday of Whenever">3rd Tuesday of Whenever</option>
                        <option value="Year 3200 (approximately)">Year 3200 (approximately)</option>
                        <option value="The 5th time turning 29">The 5th time turning 29</option>
                        <option value="Business Day 10,847">Business Day 10,847</option>
                        <option value="Sometime during Libra season">Sometime during Libra season</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label" for="citizenNumber">Citizen Number:</label>
                    <select id="citizenNumber" class="form-select">
                        <option value="#47">#47</option>
                        <option value="#89">#89</option>
                        <option value="#23">#23</option>
                        <option value="#1">#1</option>
                        <option value="Disputed">Disputed</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label" for="docLevel">Documentation Level:</label>
                    <select id="docLevel" class="form-select">
                        <option value="Thoroughly">Thoroughly</option>
                        <option value="Very Thoroughly">Very Thoroughly</option>
                        <option value="Palimpsest-Level">Palimpsest-Level</option>
                    </select>
                </div>

                <button class="generate-btn" id="generateBtn">
                    üèõÔ∏è GENERATE OFFICIAL DOCUMENT üèõÔ∏è
                </button>
            </div>
        </section>

        <section class="generated-document" id="generatedDocument" style="display: none;">
            <div class="document-parchment">
                <div class="document-header">
                    <div class="royal-seal">üëë</div>
                    <h1 class="document-title" id="documentTitle"></h1>
                    <div class="document-number">Document #<span id="documentNumber"></span></div>
                </div>

                <div class="document-content" id="documentContent"></div>

                <div class="signature-section">
                    <div class="signature-line">
                        <div class="signature-label">Citizen Signature:</div>
                        <div class="signature-placeholder">___________________ (UNSIGNED)</div>
                    </div>
                    <div class="signature-line">
                        <div class="signature-label">Which-Doctor Signature:</div>
                        <div class="signature-placeholder">___________________ (UNSIGNED)</div>
                    </div>
                    <div class="signature-line">
                        <div class="signature-label">Princess Signature:</div>
                        <div class="signature-placeholder">___________________ (NAME FORGOTTEN)</div>
                    </div>
                    <div class="signature-line">
                        <div class="signature-label">Additional Signatures Required:</div>
                        <div class="signature-count" id="signatureCount"></div>
                    </div>
                </div>

                <div class="stamps-section">
                    <div class="stamp stamp-1">üìã RECEIVED</div>
                    <div class="stamp stamp-2">‚ö†Ô∏è PENDING</div>
                    <div class="stamp stamp-3">üîç REVIEWED</div>
                    <div class="notary-stamp">IMPROPERLY NOTARIZED<br>üìù Official Notary</div>
                </div>

                <div class="document-actions">
                    <button class="action-btn download-btn" id="downloadBtn">
                        üì• Download Document
                    </button>
                    <button class="action-btn print-btn" id="printBtn">
                        üñ®Ô∏è Print Document
                    </button>
                    <button class="action-btn share-btn" id="shareBtn">
                        üîó Generate Document ID
                    </button>
                </div>

                <div class="document-footer">
                    <p><em>This document is officially unofficial and should be treated with the utmost bureaucratic seriousness.</em></p>
                    <p><strong>Warning:</strong> Any attempt to actually use this document may result in additional documentation requirements.</p>
                </div>
            </div>
        </section>

        <div class="error-modal" id="errorModal" style="display: none;">
            <div class="error-content">
                <h3>‚ö†Ô∏è PRINTING ERROR ‚ö†Ô∏è</h3>
                <p id="errorMessage">ERROR: Printer requires 23 more signatures before operation can proceed.</p>
                <button class="close-error" id="closeError">Close</button>
            </div>
        </div>

        <div class="share-modal" id="shareModal" style="display: none;">
            <div class="share-content">
                <h3>üìã Document ID Generated</h3>
                <p>Your official document ID:</p>
                <div class="document-id" id="generatedId"></div>
                <p><em>Please reference this ID in all future bureaucratic correspondence.</em></p>
                <button class="close-share" id="closeShare">Close</button>
            </div>
        </div>
    </main>

    <style>
        /* Design System Variables */
        :root {
            /* Base Design System */
            --color-white: rgba(255, 255, 255, 1);
            --color-black: rgba(0, 0, 0, 1);
            --color-cream-50: rgba(252, 252, 249, 1);
            --color-cream-100: rgba(255, 255, 253, 1);
            --color-gray-200: rgba(245, 245, 245, 1);
            --color-gray-300: rgba(167, 169, 169, 1);
            --color-gray-400: rgba(119, 124, 124, 1);
            --color-slate-500: rgba(98, 108, 113, 1);
            --color-brown-600: rgba(94, 82, 64, 1);
            --color-charcoal-700: rgba(31, 33, 33, 1);
            --color-charcoal-800: rgba(38, 40, 40, 1);
            --color-slate-900: rgba(19, 52, 59, 1);
            --color-teal-300: rgba(50, 184, 198, 1);
            --color-teal-400: rgba(45, 166, 178, 1);
            --color-teal-500: rgba(33, 128, 141, 1);
            --color-teal-600: rgba(29, 116, 128, 1);
            --color-teal-700: rgba(26, 104, 115, 1);
            --color-teal-800: rgba(41, 150, 161, 1);
            --color-red-400: rgba(255, 84, 89, 1);
            --color-red-500: rgba(192, 21, 47, 1);
            --color-orange-400: rgba(230, 129, 97, 1);
            --color-orange-500: rgba(168, 75, 47, 1);

            /* RGB versions for opacity control */
            --color-brown-600-rgb: 94, 82, 64;
            --color-teal-500-rgb: 33, 128, 141;
            --color-slate-900-rgb: 19, 52, 59;
            --color-slate-500-rgb: 98, 108, 113;

            /* Background color tokens (Light Mode) */
            --color-bg-1: rgba(59, 130, 246, 0.08);
            --color-bg-2: rgba(245, 158, 11, 0.08);
            --color-bg-3: rgba(34, 197, 94, 0.08);
            --color-bg-4: rgba(239, 68, 68, 0.08);
            --color-bg-5: rgba(147, 51, 234, 0.08);

            /* Semantic Colors */
            --color-background: var(--color-cream-50);
            --color-surface: var(--color-cream-100);
            --color-text: var(--color-slate-900);
            --color-text-secondary: var(--color-slate-500);
            --color-primary: var(--color-teal-500);
            --color-primary-hover: var(--color-teal-600);
            --color-border: rgba(var(--color-brown-600-rgb), 0.2);

            /* Medieval/Royal Theme Variables */
            --parchment-color: #F5F1E8;
            --ink-color: #2C1810;
            --gold-color: #D4AF37;
            --royal-blue: #1E3A8A;
            --royal-red: #991B1B;
            --wax-seal-color: #DC2626;
            --ancient-brown: #8B4513;

            /* Typography */
            --font-family-base: "Times New Roman", "Georgia", serif;
            --font-family-decorative: "Papyrus", "Brush Script MT", cursive;
            --font-family-official: "Courier New", monospace;
            
            /* Spacing */
            --space-4: 4px;
            --space-8: 8px;
            --space-12: 12px;
            --space-16: 16px;
            --space-20: 20px;
            --space-24: 24px;
            --space-32: 32px;
            --space-48: 48px;
            --space-64: 64px;

            /* Border Radius */
            --radius-base: 8px;
            --radius-lg: 12px;

            /* Shadows */
            --shadow-parchment: 0 8px 32px rgba(139, 69, 19, 0.3);
            --shadow-wax: 0 4px 16px rgba(220, 38, 38, 0.4);
        }

        /* Dark mode adjustments */
        @media (prefers-color-scheme: dark) {
            :root {
                --color-background: var(--color-charcoal-700);
                --color-surface: var(--color-charcoal-800);
                --color-text: var(--color-gray-200);
                --color-text-secondary: var(--color-gray-300);
                --color-primary: var(--color-teal-300);
                --parchment-color: #2A1F1A;
                --ink-color: #E5D4B1;
            }
        }

        /* Base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family-base);
            background: linear-gradient(45deg, #8B4513, #CD853F, #DEB887);
            min-height: 100vh;
            color: var(--ink-color);
            position: relative;
            overflow-x: hidden;
        }

        .parchment-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(139, 69, 19, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(160, 82, 45, 0.1) 0%, transparent 50%),
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><defs><pattern id="grain" patternUnits="userSpaceOnUse" width="100" height="100"><circle cx="20" cy="20" r="1" fill="%23D2B48C" opacity="0.3"/><circle cx="80" cy="40" r="1" fill="%23DEB887" opacity="0.2"/><circle cx="40" cy="80" r="1" fill="%23F5DEB3" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            pointer-events: none;
            z-index: -1;
        }

        .wax-seals {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .wax-seal {
            position: absolute;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, var(--wax-seal-color), #8B0000);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: var(--shadow-wax);
            animation: sealPulse 4s ease-in-out infinite;
        }

        .wax-seal-1 {
            top: 10%;
            left: 5%;
            animation-delay: 0s;
        }

        .wax-seal-2 {
            top: 20%;
            right: 8%;
            animation-delay: 1.5s;
        }

        .wax-seal-3 {
            bottom: 15%;
            left: 10%;
            animation-delay: 3s;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: var(--space-32) var(--space-16);
            position: relative;
            z-index: 2;
        }

        .royal-header {
            text-align: center;
            margin-bottom: var(--space-48);
            padding: var(--space-32);
            background: var(--parchment-color);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-parchment);
            border: 3px solid var(--gold-color);
            position: relative;
        }

        .royal-header::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: linear-gradient(45deg, var(--gold-color), var(--ancient-brown), var(--gold-color));
            border-radius: var(--radius-lg);
            z-index: -1;
        }

        .coat-of-arms {
            font-size: 4rem;
            margin-bottom: var(--space-16);
            animation: royalFloat 3s ease-in-out infinite;
        }

        .royal-title {
            display: flex;
            flex-direction: column;
            font-family: var(--font-family-decorative);
            color: var(--royal-blue);
            margin-bottom: var(--space-16);
        }

        .title-line-1 {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .title-line-2 {
            font-size: clamp(1rem, 3vw, 1.5rem);
            color: var(--royal-red);
            margin: var(--space-8) 0;
        }

        .title-line-3 {
            font-size: clamp(0.8rem, 2vw, 1rem);
            color: var(--ancient-brown);
            font-style: italic;
        }

        .royal-motto {
            font-size: 1rem;
            color: var(--ink-color);
            font-style: italic;
            border-top: 2px solid var(--gold-color);
            padding-top: var(--space-16);
        }

        .document-form {
            margin-bottom: var(--space-48);
        }

        .form-parchment,
        .document-parchment {
            background: var(--parchment-color);
            padding: var(--space-32);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-parchment);
            border: 2px solid var(--ancient-brown);
            position: relative;
        }

        .form-parchment::before,
        .document-parchment::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 1px solid var(--gold-color);
            border-radius: var(--radius-base);
            pointer-events: none;
        }

        .form-title {
            font-family: var(--font-family-decorative);
            font-size: 1.8rem;
            color: var(--royal-blue);
            text-align: center;
            margin-bottom: var(--space-32);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .form-group {
            margin-bottom: var(--space-24);
        }

        .form-label {
            display: block;
            font-weight: bold;
            margin-bottom: var(--space-8);
            color: var(--ink-color);
            font-family: var(--font-family-official);
        }

        .name-input-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-12);
        }

        .form-input,
        .form-select {
            width: 100%;
            padding: var(--space-12) var(--space-16);
            border: 2px solid var(--ancient-brown);
            border-radius: var(--radius-base);
            background: rgba(255, 255, 255, 0.9);
            font-family: var(--font-family-base);
            font-size: 1rem;
            color: var(--ink-color);
        }

        .form-input:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--gold-color);
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: var(--space-8);
            cursor: pointer;
        }

        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin: 0;
        }

        .checkbox-label {
            font-size: 0.9rem;
            color: var(--royal-red);
            font-style: italic;
        }

        .generate-btn {
            width: 100%;
            padding: var(--space-20) var(--space-32);
            background: linear-gradient(135deg, var(--royal-blue), var(--royal-red));
            color: white;
            border: none;
            border-radius: var(--radius-lg);
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            font-family: var(--font-family-decorative);
            box-shadow: var(--shadow-parchment);
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .generate-btn:hover {
            transform: scale(1.02);
            box-shadow: 0 12px 40px rgba(139, 69, 19, 0.4);
        }

        .generate-btn:active {
            transform: scale(0.98);
        }

        .document-header {
            text-align: center;
            margin-bottom: var(--space-32);
            border-bottom: 3px double var(--gold-color);
            padding-bottom: var(--space-24);
        }

        .royal-seal {
            font-size: 3rem;
            margin-bottom: var(--space-16);
            animation: royalFloat 4s ease-in-out infinite;
        }

        .document-title {
            font-family: var(--font-family-decorative);
            font-size: clamp(1.2rem, 3vw, 2rem);
            color: var(--royal-blue);
            margin-bottom: var(--space-12);
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .document-number {
            font-family: var(--font-family-official);
            color: var(--royal-red);
            font-weight: bold;
        }

        .document-content {
            background: rgba(255, 255, 255, 0.7);
            padding: var(--space-24);
            border-radius: var(--radius-base);
            margin-bottom: var(--space-32);
            border: 1px solid var(--ancient-brown);
            font-size: 1.1rem;
            line-height: 1.8;
            text-align: justify;
        }

        .signature-section {
            margin: var(--space-32) 0;
            border-top: 2px solid var(--gold-color);
            padding-top: var(--space-24);
        }

        .signature-line {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-16);
            padding: var(--space-8) 0;
        }

        .signature-label {
            font-weight: bold;
            font-family: var(--font-family-official);
            color: var(--ink-color);
            min-width: 200px;
        }

        .signature-placeholder {
            flex: 1;
            border-bottom: 2px solid var(--ink-color);
            text-align: center;
            padding: var(--space-4) var(--space-16);
            color: var(--royal-red);
            font-style: italic;
            margin-left: var(--space-16);
        }

        .signature-count {
            color: var(--royal-red);
            font-weight: bold;
            font-family: var(--font-family-official);
        }

        .stamps-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--space-16);
            margin: var(--space-32) 0;
            padding: var(--space-24);
            background: rgba(255, 255, 255, 0.3);
            border-radius: var(--radius-base);
        }

        .stamp {
            background: var(--royal-red);
            color: white;
            padding: var(--space-8) var(--space-12);
            border-radius: 50%;
            text-align: center;
            font-weight: bold;
            font-size: 0.8rem;
            transform: rotate(-15deg);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            animation: stampBounce 0.5s ease-out;
        }

        .stamp-1 {
            animation-delay: 0.2s;
        }

        .stamp-2 {
            animation-delay: 0.4s;
            transform: rotate(10deg);
        }

        .stamp-3 {
            animation-delay: 0.6s;
            transform: rotate(-25deg);
        }

        .notary-stamp {
            background: var(--royal-blue);
            color: white;
            padding: var(--space-12);
            border-radius: var(--radius-base);
            text-align: center;
            font-weight: bold;
            font-size: 0.9rem;
            transform: rotate(5deg);
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
            animation: stampBounce 0.5s ease-out 0.8s;
        }

        .document-actions {
            display: flex;
            gap: var(--space-16);
            justify-content: center;
            margin: var(--space-32) 0;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: var(--space-12) var(--space-24);
            border: 2px solid var(--ancient-brown);
            border-radius: var(--radius-base);
            background: var(--gold-color);
            color: var(--ink-color);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: var(--font-family-base);
        }

        .action-btn:hover {
            background: var(--ancient-brown);
            color: white;
            transform: translateY(-2px);
        }

        .document-footer {
            margin-top: var(--space-32);
            padding-top: var(--space-24);
            border-top: 1px solid var(--ancient-brown);
            font-size: 0.9rem;
            color: var(--color-text-secondary);
            text-align: center;
        }

        .document-footer p {
            margin-bottom: var(--space-8);
        }

        .error-modal,
        .share-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .error-content,
        .share-content {
            background: var(--parchment-color);
            padding: var(--space-32);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-parchment);
            border: 3px solid var(--royal-red);
            text-align: center;
            max-width: 400px;
            margin: var(--space-16);
        }

        .share-content {
            border-color: var(--royal-blue);
        }

        .error-content h3,
        .share-content h3 {
            color: var(--royal-red);
            margin-bottom: var(--space-16);
            font-family: var(--font-family-decorative);
        }

        .share-content h3 {
            color: var(--royal-blue);
        }

        .document-id {
            background: rgba(255, 255, 255, 0.9);
            padding: var(--space-16);
            border-radius: var(--radius-base);
            font-family: var(--font-family-official);
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--royal-blue);
            border: 2px dashed var(--royal-blue);
            margin: var(--space-16) 0;
            user-select: all;
        }

        .close-error,
        .close-share {
            margin-top: var(--space-16);
            padding: var(--space-8) var(--space-24);
            background: var(--royal-red);
            color: white;
            border: none;
            border-radius: var(--radius-base);
            cursor: pointer;
            font-weight: bold;
        }

        .close-share {
            background: var(--royal-blue);
        }

        /* Animations */
        @keyframes sealPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes royalFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        @keyframes stampBounce {
            0% {
                transform: scale(0) rotate(-15deg);
                opacity: 0;
            }
            80% {
                transform: scale(1.2) rotate(-15deg);
                opacity: 1;
            }
            100% {
                transform: scale(1) rotate(-15deg);
                opacity: 1;
            }
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: var(--space-16) var(--space-8);
            }

            .form-parchment,
            .document-parchment {
                padding: var(--space-20);
            }

            .signature-line {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--space-8);
            }

            .signature-placeholder {
                width: 100%;
                margin-left: 0;
            }

            .stamps-section {
                grid-template-columns: repeat(2, 1fr);
            }

            .document-actions {
                flex-direction: column;
                align-items: center;
            }

            .action-btn {
                width: 100%;
                max-width: 300px;
            }

            .wax-seals {
                display: none;
            }
        }
    </style>

    <script>
        // Document templates and data
        const documentTemplates = {
            official_complaint: {
                title: "OFFICIAL ROYAL COMPLAINT FORM",
                bodyTemplate: "Let it be known that on this {date}, Citizen {citizenNumber} hereby files formal complaint regarding {complaint}. This matter has been deemed {urgency} and requires {signatures} signatures for processing. The Queen Regent (Princess, technically) shall address this personally in {timeline}."
            },
            signature_collection: {
                title: "SIGNATURE COLLECTION AUTHORIZATION",
                bodyTemplate: "This document authorizes the collection of {signatures} signatures for matter #{caseNumber}. All signatures must be properly notarized by a certified which-doctor. Current signature count: {current} of {signatures}. Estimated completion: {timeline}."
            },
            pea_documentation: {
                title: "OFFICIAL PEA-RELATED MEDICAL DOCUMENTATION",
                bodyTemplate: "PATIENT FILE #{fileNumber}. Documentation level: {docLevel}. The subject presents with one (1) pea on brain. NOT pea-brain. Brain otherwise normal size and stature. This condition has been thoroughly documented since {year}. Current status: Still there. Prognosis: More documentation needed."
            },
            which_doctor_note: {
                title: "WHICH-DOCTOR'S MEDICAL CERTIFICATE",
                bodyTemplate: "This certifies that {name} was seen by which-doctor on {date}. Which one? Unknown. Diagnosis: {diagnosis}. Treatment: {treatment}. Doctors consulted: {doctorCount}. Follow-up: Return with {signatures} signatures."
            },
            sabbatical_request: {
                title: "HERMETIC SABBATICAL REQUEST FORM",
                bodyTemplate: "Request for immediate spiritual retreat approved/denied/pending for Royal Subject {name}. Duration: {duration}. Reason: Forgotten own name / Bureaucratic exhaustion / Need to reconnect with interior self. Brother coverage: {brotherStatus}. Obstacles expected: Yes."
            },
            census_update: {
                title: "OFFICIAL CAPITAL CITY CENSUS UPDATE",
                bodyTemplate: "Current population count: {population} citizens. Previous count: 47. Disputed count: 89. Unauthorized residents: Unknown. This document updates Citizen {citizenNumber} status to: {status}. Census reliability: Low."
            },
            hashtag_registration: {
                title: "OFFICIAL HASHTAG REGISTRATION CERTIFICATE",
                bodyTemplate: "This certifies the registration of hashtag #{hashtag} for live-action meme purposes. Complainant keyword: {keyword}. Meme status: {memeStatus}. This hashtag is now part of the official royal social media feed. Virality: Pending."
            },
            polliwog_maintenance: {
                title: "PIP POLLIWOG MAINTENANCE RECORD",
                bodyTemplate: "Maintenance log for Polliwog Unit #Pip. Last service: {date}. Files processed: {files}. Files remaining: ‚àû. OCR functionality: Questionable. .ogg compatibility: Polliw.ogg. Paw bobbing status: Operational. Self-defenestration risk: Monitored."
            },
            royal_decree: {
                title: "ROYAL DECREE BY ORDER OF THE PRINCESS",
                bodyTemplate: "By Royal Proclamation, it is hereby decreed that {decree}. This order shall take effect {timeline} and requires {signatures} additional signatures for validation. Violators shall be sentenced to additional paperwork. The Princess (name currently forgotten) has spoken."
            }
        };

        const randomData = {
            urgencies: ["hashtag #urgent", "standard boilerplate", "live-action-meme-worthy", "thoroughly documented priority"],
            timelines: ["3-5 business days (or lifetimes)", "next week (with additional signatures)", "whenever the princess remembers her name", "after proper notarization"],
            diagnoses: ["Acute Bureaucratic Exhaustion", "Chronic Documentation Disorder", "Pea-Adjacent Syndrome", "Which-Doctor Confusion"],
            treatments: ["More paperwork", "File additional complaints", "Consult all 47 citizens", "Thoroughly document everything"],
            hashtags: ["C-10847", "URGENT-PEA", "FORGOT-NAME", "STANDARD-BOILERPLATE", "LIVE-MEME-892"],
            keywords: ["COMPLAINANT", "DEFENDANT", "HASHTAGGER", "DOCUMENTER"],
            memeStatuses: ["Extremely viral", "Standard boilerplate", "Moderately memetic", "Pending princess approval"],
            complaints: ["excessive pea documentation", "forgotten royal names", "insufficient signature requirements", "improper notarization procedures", "which-doctor identity confusion"],
            durations: ["3-5 business eternities", "Until name is remembered", "One full documentation cycle", "Indefinitely (pending signatures)"],
            brotherStatuses: ["Available (location disputed)", "Also forgot his name", "Currently hermiting", "Requires 23 more signatures"],
            populations: ["47 (official)", "89 (disputed)", "Somewhere between 12-200", "Fluctuating (depends on census day)"],
            statuses: ["Thoroughly Documented", "Pending Additional Signatures", "Bureaucratically Sound", "Questionably Legitimate"],
            decrees: ["all pea-related documentation must be filed in triplicate", "citizens must remember their names (exemption: Princess)", "which-doctors shall properly identify themselves", "signatures are required for all breathing activities", "bureaucratic exhaustion is now a recognized medical condition"]
        };

        // DOM elements
        const generateBtn = document.getElementById('generateBtn');
        const documentForm = document.getElementById('documentForm');
        const generatedDocument = document.getElementById('generatedDocument');
        const citizenNameInput = document.getElementById('citizenName');
        const nameForgotten = document.getElementById('nameforgotten');
        const documentTypeSelect = document.getElementById('documentType');
        const dateOption = document.getElementById('dateOption');
        const citizenNumber = document.getElementById('citizenNumber');
        const docLevel = document.getElementById('docLevel');
        const documentTitle = document.getElementById('documentTitle');
        const documentNumber = document.getElementById('documentNumber');
        const documentContent = document.getElementById('documentContent');
        const signatureCount = document.getElementById('signatureCount');
        const downloadBtn = document.getElementById('downloadBtn');
        const printBtn = document.getElementById('printBtn');
        const shareBtn = document.getElementById('shareBtn');
        const errorModal = document.getElementById('errorModal');
        const shareModal = document.getElementById('shareModal');
        const closeError = document.getElementById('closeError');
        const closeShare = document.getElementById('closeShare');
        const errorMessage = document.getElementById('errorMessage');
        const generatedId = document.getElementById('generatedId');

        // Helper functions
        function getRandomItem(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        function generateRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function generateDocumentNumber() {
            const prefixes = ['DOC', 'FORM', 'CERT', 'PROC'];
            const suffixes = ['URGENT', 'STANDARD', 'FINAL', 'REVISED'];
            const number = generateRandomNumber(1000, 99999);
            return `${getRandomItem(prefixes)}-${number}-${getRandomItem(suffixes)}`;
        }

        function generateDocumentId() {
            const types = ['PEA', 'SIG', 'MED', 'CEN', 'REQ'];
            const number = generateRandomNumber(10000, 99999);
            const status = getRandomItem(['URGENT', 'PENDING', 'FILED', 'LOST']);
            return `DOC-${getRandomItem(types)}-${number}-${status}`;
        }

        function fillTemplate(template, data) {
            return template.replace(/\{(\w+)\}/g, (match, key) => {
                return data[key] || match;
            });
        }

        // Name forgotten checkbox handler
        nameForgotten.addEventListener('change', function() {
            if (this.checked) {
                citizenNameInput.value = '';
                citizenNameInput.disabled = true;
                citizenNameInput.placeholder = 'Name has been forgotten (standard procedure)';
            } else {
                citizenNameInput.disabled = false;
                citizenNameInput.placeholder = 'Enter your full royal designation...';
            }
        });

        // Generate document
        generateBtn.addEventListener('click', function() {
            const docType = documentTypeSelect.value;
            const citizenNameValue = nameForgotten.checked ? 'Name Forgotten' : citizenNameInput.value || 'Anonymous Citizen';
            const dateValue = dateOption.value;
            const citizenNumValue = citizenNumber.value;
            const docLevelValue = docLevel.value;

            if (!docType) {
                alert('Please select a document type!');
                return;
            }

            const template = documentTemplates[docType];
            if (!template) {
                alert('Invalid document type!');
                return;
            }

            // Generate random data for template
            const templateData = {
                name: citizenNameValue,
                citizenNumber: citizenNumValue,
                date: dateValue,
                docLevel: docLevelValue,
                urgency: getRandomItem(randomData.urgencies),
                timeline: getRandomItem(randomData.timelines),
                signatures: generateRandomNumber(12, 147),
                diagnosis: getRandomItem(randomData.diagnoses),
                treatment: getRandomItem(randomData.treatments),
                hashtag: getRandomItem(randomData.hashtags),
                keyword: getRandomItem(randomData.keywords),
                memeStatus: getRandomItem(randomData.memeStatuses),
                complaint: getRandomItem(randomData.complaints),
                duration: getRandomItem(randomData.durations),
                brotherStatus: getRandomItem(randomData.brotherStatuses),
                population: getRandomItem(randomData.populations),
                status: getRandomItem(randomData.statuses),
                decree: getRandomItem(randomData.decrees),
                caseNumber: generateRandomNumber(1000, 9999),
                current: generateRandomNumber(0, 5),
                fileNumber: generateRandomNumber(100, 999),
                year: generateRandomNumber(3150, 3200),
                doctorCount: generateRandomNumber(3, 12),
                files: generateRandomNumber(10000, 999999)
            };

            // Fill in the document
            documentTitle.textContent = template.title;
            documentNumber.textContent = generateDocumentNumber();
            documentContent.innerHTML = fillTemplate(template.bodyTemplate, templateData);
            signatureCount.textContent = `${templateData.signatures} additional signatures required (${generateRandomNumber(0, templateData.signatures)} collected)`;

            // Show the document
            generatedDocument.style.display = 'block';
            generatedDocument.scrollIntoView({ behavior: 'smooth' });
        });

        // Error messages for download/print
        const errorMessages = [
            "ERROR: Printer requires 23 more signatures before operation can proceed.",
            "CRITICAL: Document must be notarized by which-doctor first.",
            "WARNING: Princess signature missing (name currently forgotten).",
            "ERROR: Insufficient bureaucratic authorization level.",
            "ALERT: Document exceeds maximum pea-content threshold for printing.",
            "FAILURE: Printer only accepts .ogg file format.",
            "ERROR: This document conflicts with form #10,847-B (filed yesterday).",
            "WARNING: Mantis shrimp has disabled printer functionality."
        ];

        downloadBtn.addEventListener('click', function() {
            errorMessage.textContent = getRandomItem(errorMessages);
            errorModal.style.display = 'flex';
        });

        printBtn.addEventListener('click', function() {
            errorMessage.textContent = getRandomItem(errorMessages);
            errorModal.style.display = 'flex';
        });

        shareBtn.addEventListener('click', function() {
            generatedId.textContent = generateDocumentId();
            shareModal.style.display = 'flex';
        });

        closeError.addEventListener('click', function() {
            errorModal.style.display = 'none';
        });

        closeShare.addEventListener('click', function() {
            shareModal.style.display = 'none';
        });

        // Close modals on background click
        errorModal.addEventListener('click', function(e) {
            if (e.target === errorModal) {
                errorModal.style.display = 'none';
            }
        });

        shareModal.addEventListener('click', function(e) {
            if (e.target === shareModal) {
                shareModal.style.display = 'none';
            }
        });

        // Add some royal flourish on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Animate the coat of arms
            const coatOfArms = document.querySelector('.coat-of-arms');
            coatOfArms.style.animation = 'royalFloat 3s ease-in-out infinite';
            
            // Add subtle parchment texture animations
            const waxSeals = document.querySelectorAll('.wax-seal');
            waxSeals.forEach((seal, index) => {
                seal.style.animationDelay = `${index * 1.5}s`;
            });
        });
    </script>
</body>
</html>