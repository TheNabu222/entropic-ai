<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>✨ Cosmic Glitter Astrology ✨</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Swiss Ephemeris JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiss-ephemeris@2.2.1/dist/swiss-ephemeris.min.js"></script>
    <!-- Marked for markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&family=Quicksand:wght@300;400;500;700&display=swap');
        
        :root {
            --primary: #ff66c4;
            --secondary: #8a2be2;
            --tertiary: #5d5cde;
            --light: #ffb6ef;
            --dark: #290a38;
            --background: #ffe6f7;
            --glitch-color1: #ff00ea;
            --glitch-color2: #00b3ff;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Quicksand', sans-serif;
            background-color: var(--background);
            color: var(--dark);
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ff66c4' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }
        
        .dark-mode {
            --primary: #ff66c4;
            --secondary: #9d4edd;
            --tertiary: #5d5cde;
            --light: #ffb6ef;
            --dark: #ffe6f7;
            --background: #181818;
        }
        
        /* Animated starry background */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background-color: #fff;
            border-radius: 50%;
            opacity: 0.5;
            animation: twinkle var(--duration) linear infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            text-align: center;
            padding: 1.5rem 0;
            position: relative;
            border-bottom: 4px solid var(--tertiary);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        
        header h1 {
            font-family: 'VT323', monospace;
            font-size: 3rem;
            margin-bottom: 0.5rem;
            text-shadow: 
                3px 3px 0 var(--tertiary),
                -2px -2px 0 #ff00ea,
                1px -1px 0 #00b3ff;
            animation: glitch 2s infinite;
            letter-spacing: 2px;
        }
        
        .marquee {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 6px 0;
            overflow: hidden;
            white-space: nowrap;
            margin-top: 10px;
        }
        
        .marquee-content {
            display: inline-block;
            animation: marquee 30s linear infinite;
            padding-left: 100%;
        }
        
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
        
        @keyframes glitch {
            0% {
                text-shadow: 
                    3px 3px 0 var(--tertiary),
                    -2px -2px 0 var(--glitch-color1),
                    1px -1px 0 var(--glitch-color2);
            }
            25% {
                text-shadow: 
                    -2px -2px 0 var(--tertiary),
                    3px 3px 0 var(--glitch-color1),
                    -1px 1px 0 var(--glitch-color2);
            }
            50% {
                text-shadow: 
                    1px -1px 0 var(--tertiary),
                    -2px -2px 0 var(--glitch-color1),
                    3px 3px 0 var(--glitch-color2);
            }
            75% {
                text-shadow: 
                    -1px 1px 0 var(--tertiary),
                    1px -1px 0 var(--glitch-color1),
                    -2px -2px 0 var(--glitch-color2);
            }
            100% {
                text-shadow: 
                    3px 3px 0 var(--tertiary),
                    -2px -2px 0 var(--glitch-color1),
                    1px -1px 0 var(--glitch-color2);
            }
        }
        
        nav {
            background-color: var(--tertiary);
            padding: 1rem;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            border-bottom: 4px solid var(--primary);
        }
        
        nav button {
            background-color: var(--light);
            color: var(--dark);
            border: 2px solid var(--primary);
            padding: 0.5rem 1rem;
            margin: 0 0.25rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            font-family: 'Quicksand', sans-serif;
        }
        
        nav button:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        nav button.active {
            background-color: var(--primary);
            color: white;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        .theme-toggle {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: transparent;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .theme-toggle:hover {
            transform: scale(1.1);
        }
        
        /* Form styles */
        .birth-chart-form {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            margin: 2rem auto;
            max-width: 700px;
            border: 3px solid var(--tertiary);
            position: relative;
            overflow: hidden;
        }

        .birth-chart-form::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }
        
        .dark-mode .birth-chart-form {
            background-color: rgba(40, 40, 40, 0.9);
        }
        
        .form-title {
            color: var(--primary);
            font-family: 'VT323', monospace;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            text-align: center;
            position: relative;
            display: inline-block;
        }
        
        .form-title::after {
            content: '✨';
            position: absolute;
            right: -25px;
            top: 0;
        }
        
        .form-title::before {
            content: '✨';
            position: absolute;
            left: -25px;
            top: 0;
        }
        
        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 1.5rem;
        }
        
        .form-group {
            flex: 1 1 200px;
            margin-bottom: 1rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--dark);
        }
        
        .dark-mode .form-group label {
            color: var(--light);
        }
        
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--tertiary);
            border-radius: 8px;
            font-size: 1rem;
            font-family: 'Quicksand', sans-serif;
            background-color: white;
            color: var(--dark);
            transition: all 0.3s;
        }
        
        .dark-mode .form-group input,
        .dark-mode .form-group select {
            background-color: rgba(60, 60, 60, 0.9);
            color: white;
            border-color: var(--primary);
        }
        
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 5px var(--primary);
        }
        
        .submit-btn {
            display: block;
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-family: 'Quicksand', sans-serif;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            background: linear-gradient(135deg, var(--secondary), var(--primary));
        }
        
        .submit-btn:active {
            transform: translateY(1px);
        }
        
        /* Chart result styles */
        .chart-result {
            max-width: 1000px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            border: 3px solid var(--tertiary);
            display: none;
        }
        
        .dark-mode .chart-result {
            background-color: rgba(40, 40, 40, 0.9);
        }
        
        .chart-header {
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
        }
        
        .chart-header h2 {
            color: var(--primary);
            font-family: 'VT323', monospace;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            position: relative;
            display: inline-block;
        }
        
        .chart-header h2::after {
            content: '✨';
            position: absolute;
            right: -30px;
            top: 5px;
        }
        
        .chart-header h2::before {
            content: '✨';
            position: absolute;
            left: -30px;
            top: 5px;
        }
        
        .chart-person-info {
            text-align: center;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            padding: 1rem;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            border: 2px dashed var(--primary);
        }
        
        .dark-mode .chart-person-info {
            background-color: rgba(60, 60, 60, 0.7);
        }
        
        .chart-section {
            margin-bottom: 2rem;
            border-bottom: 2px dotted var(--tertiary);
            padding-bottom: 1.5rem;
        }
        
        .chart-section:last-child {
            border-bottom: none;
        }
        
        .section-title {
            color: var(--secondary);
            font-size: 1.6rem;
            margin-bottom: 1rem;
            font-family: 'VT323', monospace;
            letter-spacing: 1px;
            border-left: 5px solid var(--primary);
            padding-left: 10px;
        }
        
        .subsection {
            margin-top: 1.5rem;
            background-color: rgba(255, 255, 255, 0.6);
            padding: 1.2rem;
            border-radius: 10px;
            border: 1px solid var(--tertiary);
        }
        
        .dark-mode .subsection {
            background-color: rgba(70, 70, 70, 0.6);
        }
        
        .subsection-title {
            color: var(--primary);
            font-size: 1.3rem;
            margin-bottom: 0.8rem;
            font-weight: bold;
            position: relative;
        }
        
        .subsection-title::after {
            content: '★';
            position: absolute;
            right: 5px;
            color: var(--tertiary);
        }
        
        .chart-list {
            list-style-type: none;
            padding-left: 0;
        }
        
        .chart-list li {
            margin-bottom: 0.7rem;
            padding-left: 1.5rem;
            position: relative;
        }
        
        .chart-list li::before {
            content: '✦';
            position: absolute;
            left: 0;
            color: var(--tertiary);
        }
        
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }
        
        .chart-grid-item {
            background-color: rgba(255, 255, 255, 0.7);
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid var(--light);
        }
        
        .dark-mode .chart-grid-item {
            background-color: rgba(60, 60, 60, 0.7);
            border-color: var(--tertiary);
        }
        
        .chart-grid-item h4 {
            color: var(--secondary);
            margin-bottom: 0.5rem;
            border-bottom: 1px dotted var(--tertiary);
            padding-bottom: 5px;
        }
        
        .print-btn {
            display: block;
            margin: 2rem auto;
            padding: 0.8rem 2rem;
            background: linear-gradient(135deg, var(--tertiary), var(--secondary));
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .print-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        /* Chart wheel styles */
        .chart-wheel-container {
            width: 100%;
            max-width: 600px;
            margin: 2rem auto;
            position: relative;
            aspect-ratio: 1/1;
        }
        
        .chart-wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.7);
            position: relative;
            overflow: hidden;
            border: 3px solid var(--tertiary);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .dark-mode .chart-wheel {
            background-color: rgba(60, 60, 60, 0.7);
        }
        
        .wheel-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10%;
            height: 10%;
            background-color: var(--primary);
            border-radius: 50%;
            z-index: 10;
        }
        
        .house-slice {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            clip-path: polygon(50% 50%, 100% 50%, 100% 0, 50% 0);
            opacity: 0.7;
            transform-origin: center;
        }
        
        .house-cusp-line {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 50%;
            height: 2px;
            background-color: var(--dark);
            transform-origin: left center;
            z-index: 5;
        }
        
        .dark-mode .house-cusp-line {
            background-color: var(--light);
        }
        
        .zodiac-ring {
            position: absolute;
            top: 10%;
            left: 10%;
            width: 80%;
            height: 80%;
            border-radius: 50%;
            border: 2px dashed var(--tertiary);
            z-index: 2;
        }
        
        .planet-marker {
            position: absolute;
            width: 30px;
            height: 30px;
            background-color: var(--light);
            border: 2px solid var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: var(--dark);
            z-index: 10;
            transform: translate(-50%, -50%);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        .aspect-line {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 2px;
            background-color: var(--primary);
            transform-origin: left center;
            z-index: 4;
        }
        
        .sign-label {
            position: absolute;
            font-size: 14px;
            font-weight: bold;
            color: var(--dark);
            z-index: 3;
            transform: translate(-50%, -50%);
        }
        
        .dark-mode .sign-label {
            color: var(--light);
        }
        
        .house-label {
            position: absolute;
            font-size: 14px;
            font-weight: bold;
            color: var(--secondary);
            z-index: 3;
            transform: translate(-50%, -50%);
        }
        
        /* Advanced chart selector */
        .celestial-selector {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 1.5rem;
            margin-top: 2rem;
            border: 2px solid var(--tertiary);
        }
        
        .dark-mode .celestial-selector {
            background-color: rgba(40, 40, 40, 0.9);
        }
        
        .celestial-categories {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 1rem;
        }
        
        .celestial-category {
            padding: 8px 16px;
            background-color: var(--light);
            border: 1px solid var(--tertiary);
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }
        
        .celestial-category:hover,
        .celestial-category.active {
            background-color: var(--tertiary);
            color: white;
        }
        
        .celestial-bodies {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 1rem;
            display: none;
        }
        
        .celestial-bodies.active-category {
            display: flex;
        }
        
        .celestial-body {
            padding: 5px 12px;
            background-color: rgba(255, 255, 255, 0.7);
            border: 1px solid var(--primary);
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .dark-mode .celestial-body {
            background-color: rgba(60, 60, 60, 0.7);
        }
        
        .celestial-body:hover,
        .celestial-body.active {
            background-color: var(--primary);
            color: white;
        }
        
        /* Tabs and navigation */
        .tabs-container {
            margin-top: 2rem;
        }
        
        .tab-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 1rem;
        }
        
        .tab-button {
            padding: 0.6rem 1.2rem;
            background-color: var(--light);
            border: 2px solid var(--tertiary);
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .tab-button.active {
            background-color: var(--tertiary);
            color: white;
        }
        
        .tab-content {
            display: none;
            padding: 1.5rem;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            border: 2px solid var(--tertiary);
        }
        
        .dark-mode .tab-content {
            background-color: rgba(60, 60, 60, 0.7);
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Accordion styles for large data sets */
        .accordion {
            margin-bottom: 1rem;
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid var(--tertiary);
        }
        
        .accordion-header {
            padding: 1rem;
            background-color: var(--light);
            cursor: pointer;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }
        
        .dark-mode .accordion-header {
            background-color: var(--tertiary);
            color: white;
        }
        
        .accordion-header:hover {
            background-color: var(--primary);
            color: white;
        }
        
        .accordion-icon {
            transition: transform 0.3s;
        }
        
        .accordion-header.active .accordion-icon {
            transform: rotate(180deg);
        }
        
        .accordion-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background-color: rgba(255, 255, 255, 0.7);
        }
        
        .dark-mode .accordion-content {
            background-color: rgba(70, 70, 70, 0.7);
        }
        
        .accordion-inner {
            padding: 1rem;
        }
        
        /* Data tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }
        
        .data-table th {
            background-color: var(--tertiary);
            color: white;
            padding: 0.8rem;
            text-align: left;
        }
        
        .data-table td {
            padding: 0.8rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .dark-mode .data-table td {
            border-bottom-color: rgba(255, 255, 255, 0.1);
        }
        
        .data-table tr:nth-child(even) {
            background-color: rgba(0, 0, 0, 0.05);
        }
        
        .dark-mode .data-table tr:nth-child(even) {
            background-color: rgba(255, 255, 255, 0.05);
        }
        
        /* Search and filter */
        .filter-container {
            margin-bottom: 1.5rem;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
        }
        
        .search-input {
            flex-grow: 1;
            padding: 0.75rem;
            border: 2px solid var(--tertiary);
            border-radius: 25px;
            font-size: 1rem;
            min-width: 200px;
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 5px var(--primary);
        }
        
        .filter-button {
            padding: 0.75rem 1.5rem;
            background-color: var(--tertiary);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .filter-button:hover {
            background-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        /* Sparkle effect */
        .sparkle {
            position: absolute;
            pointer-events: none;
            width: 20px;
            height: 20px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ff66c4'%3E%3Cpath d='M12 0L9 8L0 12L9 16L12 24L15 16L24 12L15 8z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-size: contain;
            animation: sparkleAnim 2s linear infinite;
            z-index: 1000;
        }
        
        @keyframes sparkleAnim {
            0% { transform: rotate(0deg) scale(1); opacity: 1; }
            50% { transform: rotate(180deg) scale(1.2); opacity: 0.7; }
            100% { transform: rotate(360deg) scale(1); opacity: 1; }
        }
        
        /* Loading animation */
        .loading-container {
            display: none;
            text-align: center;
            margin: 2rem auto;
        }
        
        .loading-spinner {
            width: 80px;
            height: 80px;
            margin: 0 auto;
            border: 5px solid var(--light);
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            margin-top: 1rem;
            font-size: 1.2rem;
            color: var(--primary);
        }
        
        /* House Overlay Template Styles */
        .overlay-header {
            font-size: 1.3rem;
            color: var(--primary);
            margin-bottom: 10px;
            border-bottom: 1px solid var(--tertiary);
            padding-bottom: 5px;
        }
        
        .overlay-subheader {
            font-size: 1.1rem;
            color: var(--secondary);
            margin: 15px 0 10px;
        }
        
        .overlay-list {
            list-style-type: none;
            padding-left: 0;
        }
        
        .overlay-list li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
            line-height: 1.4;
        }
        
        .overlay-list li::before {
            content: '➤';
            position: absolute;
            left: 0;
            color: var(--tertiary);
        }
        
        .overlay-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        .overlay-table th,
        .overlay-table td {
            padding: 8px;
            border: 1px solid var(--light);
        }
        
        .overlay-table th {
            background-color: var(--tertiary);
            color: white;
        }
        
        .interpretation-container {
            margin-top: 15px;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 8px;
        }
        
        .dark-mode .interpretation-container {
            background-color: rgba(60, 60, 60, 0.5);
        }
        
        .interpretation-header {
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--primary);
        }
        
        .interpretation-content {
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 2rem 0;
            margin-top: 2rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-top: 4px solid var(--tertiary);
            position: relative;
        }
        
        footer p {
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            position: relative;
        }
        
        .back-to-top {
            background-color: var(--tertiary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            margin-top: 1rem;
            position: relative;
        }
        
        .back-to-top:hover {
            background-color: var(--primary);
            transform: translateY(-2px);
        }
        
        /* Responsive styles */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2.3rem;
            }
            
            .birth-chart-form {
                padding: 1.5rem;
            }
            
            .form-title {
                font-size: 1.8rem;
            }
            
            .form-group {
                flex: 1 1 100%;
            }
            
            .chart-result {
                padding: 1.5rem;
            }
            
            .chart-header h2 {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 1.4rem;
            }
            
            .subsection-title {
                font-size: 1.2rem;
            }
            
            .chart-grid {
                grid-template-columns: 1fr;
            }
            
            .tab-button {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Starry background -->
    <div class="stars" id="stars"></div>
    
    <header>
        <button class="theme-toggle" id="theme-toggle">
            <i class="fas fa-moon"></i>
        </button>
        <h1 class="glitch-effect" data-text="Cosmic Glitter Astrology">✨ Cosmic Glitter Astrology ✨</h1>
        <p>Your cosmic journey with nostalgic vibes ✧₊˚.⋆</p>
        <div class="marquee">
            <div class="marquee-content">
                ★ Welcome to your cosmic journey! Generate your personal birth chart with extensive asteroid and celestial body tracking ★ Discover your rising sign, planetary placements, house meanings, and asteroid interpretations ★ Embrace your cosmic destiny ★ The stars have all the answers ★ 
            </div>
        </div>
    </header>
    
    <nav id="main-nav">
        <button class="active" data-view="chart-form">Create Chart</button>
        <button data-view="asteroid-explorer">Asteroid Explorer</button>
        <button data-view="lilith-explorer">Lilith Explorer</button>
        <button data-view="dwarf-planets">Dwarf Planets</button>
        <button data-view="mythological-points">Mythological Points</button>
    </nav>
    
    <main>
        <div id="chart-form-view" class="view-section">
            <div class="birth-chart-form">
                <h2 class="form-title">✨ Birth Chart Generator ✨</h2>
                <form id="birth-chart-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">Your Name</label>
                            <input type="text" id="name" name="name" placeholder="Enter your name" required>
                        </div>
                        <div class="form-group">
                            <label for="birthdate">Birth Date</label>
                            <input type="date" id="birthdate" name="birthdate" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="birthtime">Birth Time (24h format)</label>
                            <input type="time" id="birthtime" name="birthtime" required>
                        </div>
                        <div class="form-group">
                            <label for="birthplace">Birth Place</label>
                            <input type="text" id="birthplace" name="birthplace" placeholder="City, Country" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="latitude">Latitude (required for accuracy)</label>
                            <input type="text" id="latitude" name="latitude" placeholder="e.g. 34.0522" required>
                        </div>
                        <div class="form-group">
                            <label for="longitude">Longitude (required for accuracy)</label>
                            <input type="text" id="longitude" name="longitude" placeholder="e.g. -118.2437" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="house-system">House System</label>
                            <select id="house-system" name="house-system">
                                <option value="placidus">Placidus</option>
                                <option value="whole-sign">Whole Sign</option>
                                <option value="equal">Equal</option>
                                <option value="koch">Koch</option>
                                <option value="campanus">Campanus</option>
                                <option value="porphyry">Porphyry</option>
                                <option value="regiomontanus">Regiomontanus</option>
                                <option value="morinus">Morinus</option>
                                <option value="topocentric">Topocentric</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="zodiac-type">Zodiac Type</label>
                            <select id="zodiac-type" name="zodiac-type">
                                <option value="tropical">Tropical</option>
                                <option value="sidereal">Sidereal</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="celestial-selector">
                        <h3>Select Celestial Bodies to Include</h3>
                        
                        <div class="celestial-categories">
                            <div class="celestial-category active" data-category="traditional">Traditional Planets</div>
                            <div class="celestial-category" data-category="asteroids">Asteroids</div>
                            <div class="celestial-category" data-category="lilith">Lilith Points</div>
                            <div class="celestial-category" data-category="dwarf">Dwarf Planets</div>
                            <div class="celestial-category" data-category="mythological">Mythological</div>
                        </div>
                        
                        <div id="traditional-bodies" class="celestial-bodies active-category">
                            <div class="celestial-body active">Sun</div>
                            <div class="celestial-body active">Moon</div>
                            <div class="celestial-body active">Mercury</div>
                            <div class="celestial-body active">Venus</div>
                            <div class="celestial-body active">Mars</div>
                            <div class="celestial-body active">Jupiter</div>
                            <div class="celestial-body active">Saturn</div>
                            <div class="celestial-body active">Uranus</div>
                            <div class="celestial-body active">Neptune</div>
                            <div class="celestial-body active">Pluto</div>
                            <div class="celestial-body active">North Node</div>
                            <div class="celestial-body active">South Node</div>
                            <div class="celestial-body active">Chiron</div>
                        </div>
                        
                        <div id="asteroids-bodies" class="celestial-bodies">
                            <div class="celestial-body">Ceres</div>
                            <div class="celestial-body">Pallas</div>
                            <div class="celestial-body">Juno</div>
                            <div class="celestial-body">Vesta</div>
                            <div class="celestial-body">Pholus</div>
                            <div class="celestial-body">Nessus</div>
                            <div class="celestial-body">Asbolus</div>
                            <div class="celestial-body">Hylonome</div>
                            <div class="celestial-body">Chariklo</div>
                            <div class="celestial-body">Psyche</div>
                            <div class="celestial-body">Eros</div>
                            <div class="celestial-body">Sappho</div>
                            <div class="celestial-body">Amor</div>
                            <div class="celestial-body">Valentine</div>
                            <div class="celestial-body">Dejanira</div>
                            <div class="celestial-body">Diana</div>
                            <div class="celestial-body">Toro</div>
                            <div class="celestial-body">Hidalgo</div>
                            <div class="celestial-body">Icarus</div>
                            <div class="celestial-body">Pandora</div>
                            <div class="celestial-body">Urania</div>
                        </div>
                        
                        <div id="lilith-bodies" class="celestial-bodies">
                            <div class="celestial-body">Black Moon Lilith</div>
                            <div class="celestial-body">Dark Moon Lilith</div>
                            <div class="celestial-body">Asteroid Lilith</div>
                            <div class="celestial-body">True Lilith</div>
                        </div>
                        
                        <div id="dwarf-bodies" class="celestial-bodies">
                            <div class="celestial-body">Eris</div>
                            <div class="celestial-body">Quaoar</div>
                            <div class="celestial-body">Sedna</div>
                            <div class="celestial-body">Varuna</div>
                            <div class="celestial-body">Orcus</div>
                            <div class="celestial-body">Ixion</div>
                            <div class="celestial-body">Makemake</div>
                            <div class="celestial-body">Haumea</div>
                        </div>
                        
                        <div id="mythological-bodies" class="celestial-bodies">
                            <div class="celestial-body">Sumeria</div>
                            <div class="celestial-body">Ur</div>
                            <div class="celestial-body">Babylon</div>
                            <div class="celestial-body">Babel</div>
                            <div class="celestial-body">Mesopotamia</div>
                            <div class="celestial-body">Chaldaea</div>
                            <div class="celestial-body">Gilgamesh</div>
                            <div class="celestial-body">Adonis</div>
                            <div class="celestial-body">Innanen</div>
                            <div class="celestial-body">Ishtar</div>
                            <div class="celestial-body">Semiramis</div>
                            <div class="celestial-body">Kaali</div>
                            <div class="celestial-body">Siva</div>
                            <div class="celestial-body">Anubis</div>
                            <div class="celestial-body">Isis</div>
                            <div class="celestial-body">Osiris</div>
                            <div class="celestial-body">Tara</div>
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-btn">Generate Your Cosmic Chart ✨</button>
                </form>
            </div>
            
            <div class="loading-container" id="loading-container">
                <div class="loading-spinner"></div>
                <p class="loading-text">✨ Calculating the celestial tapestry of your birth moment... ✨</p>
            </div>
            
            <div class="chart-result" id="chart-result">
                <div class="chart-header">
                    <h2>Your Cosmic Birth Chart</h2>
                    <div class="chart-person-info" id="chart-person-info">
                        <p><strong>Name:</strong> <span id="result-name"></span></p>
                        <p><strong>Birth Date:</strong> <span id="result-birthdate"></span></p>
                        <p><strong>Birth Time:</strong> <span id="result-birthtime"></span></p>
                        <p><strong>Birth Place:</strong> <span id="result-birthplace"></span> (<span id="result-coordinates"></span>)</p>
                    </div>
                </div>
                
                <!-- Chart Wheel Visualization -->
                <div class="chart-wheel-container">
                    <div class="chart-wheel" id="chart-wheel">
                        <div class="zodiac-ring"></div>
                        <div class="wheel-center"></div>
                        <!-- Houses, planets, and aspects will be added dynamically via JavaScript -->
                    </div>
                </div>
                
                <div class="chart-section">
                    <h3 class="section-title">Chart Overview</h3>
                    
                    <div class="subsection">
                        <h4 class="subsection-title">Chart Ruler</h4>
                        <div id="chart-ruler-info">
                            <p><strong>Planet:</strong> <span id="chart-ruler-planet"></span></p>
                            <p><strong>House:</strong> <span id="chart-ruler-house"></span></p>
                        </div>
                    </div>
                    
                    <div class="subsection">
                        <h4 class="subsection-title">Chart Balance</h4>
                        <div class="chart-grid">
                            <div class="chart-grid-item">
                                <h4>Elements</h4>
                                <ul class="chart-list" id="elements-list"></ul>
                            </div>
                            <div class="chart-grid-item">
                                <h4>Modalities</h4>
                                <ul class="chart-list" id="modalities-list"></ul>
                            </div>
                            <div class="chart-grid-item">
                                <h4>Polarities</h4>
                                <p><strong>Feminine (water/earth):</strong> <span id="feminine-polarity"></span></p>
                                <p><strong>Masculine (fire/air):</strong> <span id="masculine-polarity"></span></p>
                            </div>
                            <div class="chart-grid-item">
                                <h4>Top Signs</h4>
                                <ul class="chart-list" id="top-signs-list"></ul>
                                <h4>Bottom Signs</h4>
                                <ul class="chart-list" id="bottom-signs-list"></ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="subsection">
                        <h4 class="subsection-title">Orientation</h4>
                        <div class="chart-grid">
                            <div class="chart-grid-item">
                                <h4>Dominant Quadrant</h4>
                                <p id="dominant-quadrant"></p>
                            </div>
                            <div class="chart-grid-item">
                                <h4>Dominant Hemisphere</h4>
                                <p id="dominant-hemisphere"></p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="subsection">
                        <h4 class="subsection-title">Planetary Distribution</h4>
                        <div class="chart-grid">
                            <div class="chart-grid-item">
                                <h4>Top 3 Planets</h4>
                                <ul class="chart-list" id="top-planets-list"></ul>
                            </div>
                            <div class="chart-grid-item">
                                <h4>Bottom 3 Planets</h4>
                                <ul class="chart-list" id="bottom-planets-list"></ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tabs-container">
                    <div class="tab-buttons">
                        <button class="tab-button active" data-tab="planets-tab">Planets</button>
                        <button class="tab-button" data-tab="houses-tab">Houses</button>
                        <button class="tab-button" data-tab="aspects-tab">Aspects</button>
                        <button class="tab-button" data-tab="asteroids-tab">Asteroids</button>
                        <button class="tab-button" data-tab="lilith-tab">Lilith Points</button>
                        <button class="tab-button" data-tab="special-tab">Special Points</button>
                    </div>
                    
                    <div id="planets-tab" class="tab-content active">
                        <div class="chart-section">
                            <h3 class="section-title">Planetary Placements</h3>
                            <div id="planets-container">
                                <!-- Will be populated with planet data based on template -->
                            </div>
                        </div>
                    </div>
                    
                    <div id="houses-tab" class="tab-content">
                        <div class="chart-section">
                            <h3 class="section-title">House Placements</h3>
                            <div id="houses-container">
                                <!-- Will be populated with house data based on template -->
                            </div>
                        </div>
                    </div>
                    
                    <div id="aspects-tab" class="tab-content">
                        <div class="chart-section">
                            <h3 class="section-title">Planetary Aspects</h3>
                            
                            <div class="subsection">
                                <h4 class="subsection-title">Major Aspects</h4>
                                <table class="data-table" id="major-aspects-table">
                                    <thead>
                                        <tr>
                                            <th>Planets</th>
                                            <th>Aspect</th>
                                            <th>Orb</th>
                                            <th>Description</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Will be populated with aspect data -->
                                    </tbody>
                                </table>
                            </div>
                            
                            <div class="subsection">
                                <h4 class="subsection-title">Aspect Patterns</h4>
                                <div id="aspect-patterns">
                                    <!-- Will be populated with pattern data -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="asteroids-tab" class="tab-content">
                        <div class="chart-section">
                            <h3 class="section-title">Asteroid Placements</h3>
                            
                            <div class="filter-container">
                                <input type="text" id="asteroid-search" class="search-input" placeholder="Search asteroids...">
                                <button class="filter-button" id="show-all-asteroids">Show All</button>
                            </div>
                            
                            <div id="asteroids-container">
                                <!-- Will be populated with asteroid data -->
                            </div>
                        </div>
                    </div>
                    
                    <div id="lilith-tab" class="tab-content">
                        <div class="chart-section">
                            <h3 class="section-title">Lilith Points</h3>
                            <div id="lilith-container">
                                <!-- Will be populated with Lilith data -->
                            </div>
                        </div>
                    </div>
                    
                    <div id="special-tab" class="tab-content">
                        <div class="chart-section">
                            <h3 class="section-title">Special Points & Mythological Bodies</h3>
                            
                            <div class="filter-container">
                                <input type="text" id="special-search" class="search-input" placeholder="Search special points...">
                                <button class="filter-button" id="show-all-special">Show All</button>
                            </div>
                            
                            <div id="special-container">
                                <!-- Will be populated with special points data -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <button id="print-chart" class="print-btn">Print Your Cosmic Chart ✨</button>
            </div>
        </div>
        
        <div id="asteroid-explorer-view" class="view-section" style="display: none;">
            <h2 class="section-title">Asteroid Explorer</h2>
            
            <div class="filter-container">
                <input type="text" id="asteroid-explorer-search" class="search-input" placeholder="Search asteroid names, keywords, or functions...">
                <button class="filter-button" id="asteroid-filter-btn">Filter</button>
            </div>
            
            <div id="asteroid-explorer-container">
                <!-- Asteroid data -->
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Ceres</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <p><strong>Sign Interpretation:</strong></p>
                            <ul class="overlay-list">
                                <li>Your maternal instinct is</li>
                                <li>You nurture by</li>
                                <li>You show unconditional love by</li>
                                <li>You give and receive abundance by</li>
                                <li>You develop self-worth in</li>
                                <li>I eliminate and regenerate</li>
                            </ul>
                            
                            <p><strong>House Interpretation:</strong></p>
                            <ul class="overlay-list">
                                <li>The nurturing function is best expressed in</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Pallas</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <p><strong>Interpretation:</strong></p>
                            <ul class="overlay-list">
                                <li>Mental Talents for</li>
                                <li>You express capacity for creative intelligence by</li>
                                <li>Your receptivity to Divine Inspiration is</li>
                                <li>You protect and implement Justice</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Juno</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <p><strong>Interpretation:</strong></p>
                            <ul class="overlay-list">
                                <li>Power struggles in relationships manifest in a</li>
                                <li>In marriage the partner you seek is</li>
                                <li>In marriage you require</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Vesta</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <p><strong>Interpretation:</strong></p>
                            <ul class="overlay-list">
                                <li>You honor your Inner Divine by</li>
                                <li>Your devotions to the Spirit are</li>
                                <li>You practice Sacred Solitude by</li>
                                <li>You commit to sacred causes by</li>
                                <li>Your dedicated service is to</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Chiron</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <h3>The Wounded Healer</h3>
                            <p><strong>Keywords:</strong> Inner Wounds, Mentor and Guide, Integrating Spirituality and Humanity</p>
                            
                            <h4>Key Functions:</h4>
                            <ul class="chart-list">
                                <li>Facilitating healing and growth through addressing inner wounds.</li>
                                <li>Acting as a mentor or guide in the process of self-discovery.</li>
                                <li>Bridging the gap between the spiritual and material aspects of life.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Pholus</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <h3>Catalyst for Unexpected Changes</h3>
                            <p><strong>Keywords:</strong> Sudden Events, Unforeseen Circumstances, Releasing Old Patterns</p>
                            
                            <h4>Key Functions:</h4>
                            <ul class="chart-list">
                                <li>Triggering unexpected and transformative events in one's life.</li>
                                <li>Initiating the process of releasing old patterns and limitations.</li>
                                <li>Encouraging individuals to embrace change and adaptability.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Nessus</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <h3>The Bringer of Truth</h3>
                            <p><strong>Keywords:</strong> Revelations, Uncovering Deceptions, Empowerment through Awareness</p>
                            
                            <h4>Key Functions:</h4>
                            <ul class="chart-list">
                                <li>Revealing truths and hidden motives in relationships and situations.</li>
                                <li>Exposing deception and manipulation for empowerment and growth.</li>
                                <li>Encouraging confrontation and addressing issues with honesty.</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <!-- More asteroids will be added here with accordion structure -->
            </div>
        </div>
        
        <div id="lilith-explorer-view" class="view-section" style="display: none;">
            <h2 class="section-title">Lilith Explorer</h2>
            
            <div class="accordion" id="lilith-accordion">
                <div class="accordion-header">
                    <span>Black Moon Lilith (h12)</span>
                    <span class="accordion-icon">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-inner">
                        <h3>Dark Feminine Power and Sexuality</h3>
                        <p><strong>Keywords:</strong> Sexual Liberation, Independence, Nonconformity</p>
                        <p>Black Moon Lilith represents the raw feminine power that refuses to be suppressed or controlled. It symbolizes rebellion against societal norms and breaking free from oppressive structures. This point in your chart shows where you may experience challenges related to independence, sexuality, and authentic expression.</p>
                        
                        <h4>Key Functions:</h4>
                        <ul class="chart-list">
                            <li>Empowering individuals to embrace their feminine power and sexuality.</li>
                            <li>Encouraging rebellion against oppressive norms and expectations.</li>
                            <li>Inspiring independence and autonomy in personal expression.</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="accordion">
                <div class="accordion-header">
                    <span>Dark Moon Lilith (h58)</span>
                    <span class="accordion-icon">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-inner">
                        <h3>Unconscious Desires and Repressed Emotions</h3>
                        <p><strong>Keywords:</strong> Forbidden Desires, Unacknowledged Emotions, Embracing the Unknown</p>
                        <p>Dark Moon Lilith represents the shadowy feminine power that deals with repressed emotions, instinctual nature, and primal energies. It shows where we experience deep fears and powerful hidden drives in our charts.</p>
                        
                        <h4>Key Functions:</h4>
                        <ul class="chart-list">
                            <li>Bringing awareness to repressed emotions and desires.</li>
                            <li>Confronting the shadow self and exploring taboo themes.</li>
                            <li>Encouraging individuals to embrace and integrate the darker aspects of the feminine.</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="accordion">
                <div class="accordion-header">
                    <span>Asteroid Lilith (1181)</span>
                    <span class="accordion-icon">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-inner">
                        <h3>Honoring the Feminine Mystique</h3>
                        <p><strong>Keywords:</strong> Female Archetype, Primal Instincts, Unconstrained Expression</p>
                        <p>Asteroid Lilith represents the feminine archetype that seeks equality and refuses to be submissive. It shows where we may encounter or express boundary issues, independence, and the assertion of rights.</p>
                        
                        <h4>Key Functions:</h4>
                        <ul class="chart-list">
                            <li>Recognizing and honoring the diverse expressions of the feminine.</li>
                            <li>Tapping into instinctive wisdom and primal energy.</li>
                            <li>Encouraging individuals to break free from societal limitations and embrace their authentic selves.</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="accordion">
                <div class="accordion-header">
                    <span>True Lilith (h13)</span>
                    <span class="accordion-icon">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-inner">
                        <h3>Authentic Expression of Feminine Power</h3>
                        <p><strong>Keywords:</strong> Soul-Level Authenticity, Empowerment, Embracing the Shadow</p>
                        <p>True Lilith represents the authentic feminine power that refuses to be suppressed or controlled. It shows where we may express our most genuine desires for autonomy and equality.</p>
                        
                        <h4>Key Functions:</h4>
                        <ul class="chart-list">
                            <li>Encouraging the authentic expression of feminine power.</li>
                            <li>Facilitating soul-level authenticity and personal empowerment.</li>
                            <li>Guiding individuals to embrace and integrate the power of the dark goddess within.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="dwarf-planets-view" class="view-section" style="display: none;">
            <h2 class="section-title">Dwarf Planets</h2>
            
            <div class="accordion" id="dwarf-accordion">
                <div class="accordion-header">
                    <span>Eris (136199)</span>
                    <span class="accordion-icon">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-inner">
                        <h3>The Disruptor of Order</h3>
                        <p><strong>Keywords:</strong> Discord and Chaos, Revealing Hidden Realities, Liberation from Conformity</p>
                        <p>Named after the Greek goddess of discord and strife, Eris represents our ability to stir up chaos and challenge established structures. It exposes truths and hidden aspects of situations, encouraging us to embrace our uniqueness even when it creates discord.</p>
                        
                        <h4>Key Functions:</h4>
                        <ul class="chart-list">
                            <li>Stirring up chaos and challenging established structures.</li>
                            <li>Exposing truths and hidden aspects of situations.</li>
                            <li>Encouraging individuality and embracing uniqueness.</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="accordion">
                <div class="accordion-header">
                    <span>Quaoar (50000)</span>
                    <span class="accordion-icon">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-inner">
                        <h3>Nurturing Creation and Balance</h3>
                        <p><strong>Keywords:</strong> Planetary Stewardship, Cosmic Knowledge, Harmonizing Forces</p>
                        <p>Named after a creation deity of the Tongva native people, Quaoar represents the dance of creation and the rhythm of natural cycles. It helps us recognize the creative power within ourselves and our connection to the cosmic order.</p>
                        
                        <h4>Key Functions:</h4>
                        <ul class="chart-list">
                            <li>Fostering harmony and balance within ecosystems.</li>
                            <li>Nurturing spiritual growth and connection with nature.</li>
                            <li>Understanding and aligning with the cycles of the planet.</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="accordion">
                <div class="accordion-header">
                    <span>Sedna (90377)</span>
                    <span class="accordion-icon">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-inner">
                        <h3>Deep Emotional Connection to the Sea</h3>
                        <p><strong>Keywords:</strong> Emotional Resilience, Oceanic Intuition, Environmental Awareness</p>
                        <p>Named after the Inuit goddess of the sea, Sedna represents deep emotional waters, trauma, and release. It speaks to our connection with the oceans and our deepest emotional currents, often revealing areas where we've been wounded but can find tremendous healing.</p>
                        
                        <h4>Key Functions:</h4>
                        <ul class="chart-list">
                            <li>Healing emotional wounds through connecting with the sea's energy.</li>
                            <li>Enhancing survival instincts and adaptability in challenging circumstances.</li>
                            <li>Encouraging environmental awareness and conservation efforts.</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="accordion">
                <div class="accordion-header">
                    <span>Haumea (136108)</span>
                    <span class="accordion-icon">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-inner">
                        <h3>Mother Earth and Fertility</h3>
                        <p><strong>Keywords:</strong> Birth and Transformation, Motherly Love, Regeneration</p>
                        <p>Named after the Hawaiian goddess of childbirth, Haumea represents fertility, childbirth, and rebirth. It shows areas in our lives where we can experience renewal and profound transformation.</p>
                        
                        <h4>Key Functions:</h4>
                        <ul class="chart-list">
                            <li>Representing the nurturing aspect of Mother Earth.</li>
                            <li>Facilitating transformative change and renewal in life.</li>
                            <li>Encouraging individuals to embrace the cycles of life and growth.</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="accordion">
                <div class="accordion-header">
                    <span>Makemake (136472)</span>
                    <span class="accordion-icon">▼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-inner">
                        <h3>Creative Manifestation</h3>
                        <p><strong>Keywords:</strong> Artistic Expression, Fertility and Abundance, Cultural Heritage</p>
                        <p>Named after the creator deity of the Rapa Nui people of Easter Island, Makemake represents our connection to nature, environmentalism, and leadership in ecological matters. It reveals how we relate to the natural world and our role in protecting it.</p>
                        
                        <h4>Key Functions:</h4>
                        <ul class="chart-list">
                            <li>Inspiring creative manifestation and artistic expression.</li>
                            <li>Fostering fertility and abundance in various aspects of life.</li>
                            <li>Connecting individuals to their cultural and ancestral roots.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="mythological-points-view" class="view-section" style="display: none;">
            <h2 class="section-title">Mythological Points</h2>
            
            <div class="filter-container">
                <input type="text" id="myth-explorer-search" class="search-input" placeholder="Search mythological points...">
                <button class="filter-button" id="myth-filter-btn">Filter</button>
            </div>
            
            <div id="mythological-container">
                <!-- Sumerian/Babylonian/Chaldaean theme -->
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Sumeria (1970)</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <h3>Ancient Civilization Legacy</h3>
                            <p><strong>Keywords:</strong> Ancient Civilization, Cultural Legacy, Wisdom</p>
                            <p>This asteroid represents the legacy and contributions of the ancient civilization of Sumeria, symbolizing the cultural and intellectual foundations of humanity's history. It carries the wisdom and knowledge from the past that continues to influence the present.</p>
                        </div>
                    </div>
                </div>
                
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Ur (22260)</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <h3>City of Ziggurats and Mysteries</h3>
                            <p><strong>Keywords:</strong> Ziggurats, Archaeology, Ancestral Roots</p>
                            <p>This asteroid represents the ancient city of Ur known for its ziggurats and mysteries, signifying the archaeological and historical richness of ancient civilizations. It connects individuals to their ancestral roots and heritage.</p>
                        </div>
                    </div>
                </div>
                
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Babylon (15417)</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <h3>Mesopotamian Power Center</h3>
                            <p><strong>Keywords:</strong> Power Center, Hanging Gardens, Empires</p>
                            <p>This asteroid represents the historical significance of Babylon as a powerful center in Mesopotamia, symbolizing the legendary Hanging Gardens of Babylon, one of the Seven Wonders of the Ancient World. It illustrates the cyclical nature of rise and fall of empires and civilizations.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Egyptian theme -->
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Anubis (1912)</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <h3>Guide to the Underworld</h3>
                            <p><strong>Keywords:</strong> Psychopomp, Soul Journey, Afterlife</p>
                            <p>Anubis guides souls through the journey to the afterlife, assisting in personal transformation and spiritual rebirth. It acts as a guardian and protector of souls during their transitions.</p>
                        </div>
                    </div>
                </div>
                
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Isis (42)</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <h3>Goddess of Magic and Motherhood</h3>
                            <p><strong>Keywords:</strong> Divine Mother, Magical Abilities, Nurturing Love</p>
                            <p>Isis represents the nurturing and caring aspects of the divine feminine, empowering individuals with magical abilities and healing energy. She inspires connection and devotion to the goddess archetype.</p>
                        </div>
                    </div>
                </div>
                
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Osiris (1923)</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <h3>God of Resurrection and Afterlife</h3>
                            <p><strong>Keywords:</strong> Resurrection, Divine Judgment, Immortality</p>
                            <p>Osiris represents the concept of resurrection and eternal life, bringing wisdom and judgment in life situations. He guides individuals through cycles of rebirth and growth.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Hindu/Indian theme -->
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Kaali (4227)</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <h3>Dark Goddess of Transformation</h3>
                            <p><strong>Keywords:</strong> Shadow Work, Empowerment through Crisis, Fierce Protection</p>
                            <p>Kaali represents the transformative power of destruction and rebirth, guiding individuals through shadow work and deep inner transformation. She provides fierce protection and empowerment during challenging times.</p>
                        </div>
                    </div>
                </div>
                
                <div class="accordion">
                    <div class="accordion-header">
                        <span>Siva (1170)</span>
                        <span class="accordion-icon">▼</span>
                    </div>
                    <div class="accordion-content">
                        <div class="accordion-inner">
                            <h3>God of Destruction and Regeneration</h3>
                            <p><strong>Keywords:</strong> Creative Destruction, Cosmic Energy, Transformational Cycles</p>
                            <p>Siva represents the cosmic dance of creation and destruction, balancing the forces of creation and transformation in the universe. He facilitates transformative cycles and personal growth.</p>
                        </div>
                    </div>
                </div>
                
                <!-- More mythological bodies will be added here with accordion structure -->
            </div>
        </div>
    </main>
    
    <footer>
        <p>✧ Cosmic Glitter Astrology ✧</p>
        <p>Made with 💖 and stardust</p>
        <button class="back-to-top" id="back-to-top">Back to Top ↑</button>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Theme toggle functionality
            const themeToggle = document.getElementById('theme-toggle');
            const body = document.body;
            const themeIcon = themeToggle.querySelector('i');
            
            // Check if user prefers dark mode
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                body.classList.add('dark-mode');
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            }
            
            themeToggle.addEventListener('click', function() {
                body.classList.toggle('dark-mode');
                if (body.classList.contains('dark-mode')) {
                    themeIcon.classList.remove('fa-moon');
                    themeIcon.classList.add('fa-sun');
                } else {
                    themeIcon.classList.remove('fa-sun');
                    themeIcon.classList.add('fa-moon');
                }
            });
            
            // Listen for system dark mode changes
            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
                if (event.matches) {
                    body.classList.add('dark-mode');
                    themeIcon.classList.remove('fa-moon');
                    themeIcon.classList.add('fa-sun');
                } else {
                    body.classList.remove('dark-mode');
                    themeIcon.classList.remove('fa-sun');
                    themeIcon.classList.add('fa-moon');
                }
            });
            
            // Create starry background
            createStars();
            
            // Navigation functionality
            const navButtons = document.querySelectorAll('#main-nav button');
            const viewSections = document.querySelectorAll('.view-section');
            
            navButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const targetView = this.getAttribute('data-view');
                    
                    // Update active nav button
                    navButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show corresponding view section
                    viewSections.forEach(section => {
                        section.style.display = 'none';
                    });
                    document.getElementById(`${targetView}-view`).style.display = 'block';
                });
            });
            
            // Tab functionality
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    
                    // Update active tab button
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show corresponding tab content
                    tabContents.forEach(content => content.classList.remove('active'));
                    document.getElementById(targetTab).classList.add('active');
                });
            });
            
            // Sparkle effect on mouse move
            const main = document.querySelector('main');
            
            main.addEventListener('mousemove', function(e) {
                if (Math.random() > 0.95) {
                    const sparkle = document.createElement('div');
                    sparkle.classList.add('sparkle');
                    sparkle.style.left = e.pageX + 'px';
                    sparkle.style.top = e.pageY + 'px';
                    document.body.appendChild(sparkle);
                    
                    setTimeout(() => {
                        sparkle.remove();
                    }, 2000);
                }
            });
            
            // Celestial body selector
            const celestialCategories = document.querySelectorAll('.celestial-category');
            const celestialBodies = document.querySelectorAll('.celestial-bodies');
            
            celestialCategories.forEach(category => {
                category.addEventListener('click', function() {
                    const targetCategory = this.getAttribute('data-category');
                    
                    // Update active category
                    celestialCategories.forEach(cat => cat.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show corresponding celestial bodies
                    celestialBodies.forEach(bodies => {
                        bodies.classList.remove('active-category');
                    });
                    document.getElementById(`${targetCategory}-bodies`).classList.add('active-category');
                });
            });
            
            // Toggle celestial body selection
            const celestialBodyButtons = document.querySelectorAll('.celestial-body');
            
            celestialBodyButtons.forEach(body => {
                body.addEventListener('click', function() {
                    this.classList.toggle('active');
                });
            });
            
            // Accordion functionality
            const accordionHeaders = document.querySelectorAll('.accordion-header');
            
            accordionHeaders.forEach(header => {
                header.addEventListener('click', function() {
                    this.classList.toggle('active');
                    const content = this.nextElementSibling;
                    
                    if (this.classList.contains('active')) {
                        content.style.maxHeight = content.scrollHeight + 'px';
                    } else {
                        content.style.maxHeight = '0';
                    }
                });
            });
            
            // Birth chart form submission
            const birthChartForm = document.getElementById('birth-chart-form');
            const loadingContainer = document.getElementById('loading-container');
            const chartResult = document.getElementById('chart-result');
            
            birthChartForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Show loading animation
                loadingContainer.style.display = 'block';
                birthChartForm.style.display = 'none';
                
                // Get form values
                const name = document.getElementById('name').value;
                const birthdate = document.getElementById('birthdate').value;
                const birthtime = document.getElementById('birthtime').value;
                const birthplace = document.getElementById('birthplace').value;
                const latitude = document.getElementById('latitude').value;
                const longitude = document.getElementById('longitude').value;
                const houseSystem = document.getElementById('house-system').value;
                const zodiacType = document.getElementById('zodiac-type').value;
                
                // Get selected celestial bodies
                const selectedBodies = Array.from(document.querySelectorAll('.celestial-body.active')).map(body => body.textContent);
                
                // Format date for display
                const formattedDate = new Date(birthdate).toLocaleDateString('en-US', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                // Calculate chart data
                setTimeout(() => {
                    calculateChart(name, birthdate, birthtime, birthplace, latitude, longitude, houseSystem, zodiacType, selectedBodies);
                }, 2000);
            });
            
            // Calculate and display chart
            function calculateChart(name, birthdate, birthtime, birthplace, latitude, longitude, houseSystem, zodiacType, selectedBodies) {
                console.log("Calculating chart for:", { 
                    name, birthdate, birthtime, birthplace, 
                    latitude, longitude, houseSystem, zodiacType,
                    selectedBodies
                });
                
                // Parse birth date and time
                const [year, month, day] = birthdate.split('-').map(Number);
                const [hour, minute] = birthtime.split(':').map(Number);
                
                // Calculate Julian day
                const julianDay = calculateJulianDay(year, month, day, hour, minute);
                
                // Calculate house cusps and planet positions
                // In a real implementation, this would use Swiss Ephemeris calculations
                const houses = calculateHouseCusps(julianDay, latitude, longitude, houseSystem);
                const planets = calculatePlanetPositions(julianDay, latitude, longitude, selectedBodies);
                const aspects = calculateAspects(planets);
                
                // Fill in person info
                document.getElementById('result-name').textContent = name;
                document.getElementById('result-birthdate').textContent = formattedDate;
                document.getElementById('result-birthtime').textContent = birthtime;
                document.getElementById('result-birthplace').textContent = birthplace;
                document.getElementById('result-coordinates').textContent = `${latitude}, ${longitude}`;
                
                // Render chart components
                renderChartWheel(planets, houses);
                populateChartRuler(houses, planets);
                calculateChartBalance(planets);
                populateOrientation(planets);
                populatePlanetary(planets, houses);
                
                // Populate tabs with detailed interpretations
                populatePlanetaryTab(planets, houses);
                populateHousesTab(houses, planets);
                populateAspectsTab(aspects);
                populateAsteroidsTab(planets);
                populateLilithTab(planets);
                populateSpecialPointsTab(planets);
                
                // Hide loading, show result
                loadingContainer.style.display = 'none';
                chartResult.style.display = 'block';
                
                // Scroll to results
                chartResult.scrollIntoView({ behavior: 'smooth' });
            }
            
            // Calculate Julian Day Number
            function calculateJulianDay(year, month, day, hour, minute) {
                // Simplified calculation for demo
                const a = Math.floor((14 - month) / 12);
                const y = year + 4800 - a;
                const m = month + 12 * a - 3;
                
                let jdn = day + Math.floor((153 * m + 2) / 5) + 365 * y + Math.floor(y / 4) - Math.floor(y / 100) + Math.floor(y / 400) - 32045;
                
                // Adjust for time of day
                const decimalTime = (hour + minute / 60) / 24;
                return jdn + decimalTime - 0.5;
            }
            
            // Calculate planet positions
            function calculatePlanetPositions(julianDay, latitude, longitude, selectedBodies) {
                // This is a placeholder implementation
                // In a real implementation, this would use Swiss Ephemeris library calculations
                
                // For demonstration purposes, we'll return placeholder data
                const positions = {
                    "Sun": { sign: "Leo", degree: 15.23, house: "5th", retrograde: false },
                    "Moon": { sign: "Cancer", degree: 3.45, house: "4th", retrograde: false },
                    "Mercury": { sign: "Virgo", degree: 2.56, house: "6th", retrograde: false },
                    "Venus": { sign: "Libra", degree: 12.78, house: "7th", retrograde: false },
                    "Mars": { sign: "Aries", degree: 25.91, house: "1st", retrograde: false },
                    "Jupiter": { sign: "Sagittarius", degree: 8.34, house: "9th", retrograde: false },
                    "Saturn": { sign: "Capricorn", degree: 18.67, house: "10th", retrograde: true },
                    "Uranus": { sign: "Taurus", degree: 6.12, house: "2nd", retrograde: true },
                    "Neptune": { sign: "Pisces", degree: 21.89, house: "12th", retrograde: true },
                    "Pluto": { sign: "Scorpio", degree: 29.01, house: "8th", retrograde: false },
                    "North Node": { sign: "Gemini", degree: 13.45, house: "3rd", retrograde: false },
                    "South Node": { sign: "Sagittarius", degree: 13.45, house: "9th", retrograde: false },
                    "Chiron": { sign: "Aries", degree: 8.76, house: "1st", retrograde: false },
                    
                    // Asteroid positions
                    "Ceres": { sign: "Virgo", degree: 5.67, house: "6th", retrograde: false },
                    "Pallas": { sign: "Libra", degree: 19.23, house: "7th", retrograde: false },
                    "Juno": { sign: "Scorpio", degree: 27.89, house: "8th", retrograde: false },
                    "Vesta": { sign: "Gemini", degree: 11.34, house: "3rd", retrograde: false },
                    
                    // Lilith points
                    "Black Moon Lilith": { sign: "Pisces", degree: 17.56, house: "12th", retrograde: false },
                    "Dark Moon Lilith": { sign: "Aquarius", degree: 23.67, house: "11th", retrograde: false },
                    "Asteroid Lilith": { sign: "Capricorn", degree: 9.12, house: "10th", retrograde: false },
                    "True Lilith": { sign: "Pisces", degree: 18.23, house: "12th", retrograde: false },
                    
                    // Dwarf planets
                    "Eris": { sign: "Aries", degree: 24.67, house: "1st", retrograde: true },
                    "Sedna": { sign: "Taurus", degree: 29.45, house: "2nd", retrograde: true },
                    "Quaoar": { sign: "Capricorn", degree: 5.78, house: "10th", retrograde: true },
                    
                    // Mythological bodies (sample)
                    "Isis": { sign: "Cancer", degree: 14.56, house: "4th", retrograde: false },
                    "Osiris": { sign: "Scorpio", degree: 3.45, house: "8th", retrograde: false },
                    "Anubis": { sign: "Scorpio", degree: 7.23, house: "8th", retrograde: false }
                };
                
                // Filter to only include selected bodies
                const filteredPositions = {};
                selectedBodies.forEach(body => {
                    if (positions[body]) {
                        filteredPositions[body] = positions[body];
                    }
                });
                
                return filteredPositions;
            }
            
            // Calculate house cusps
            function calculateHouseCusps(julianDay, latitude, longitude, houseSystem) {
                // This is a placeholder implementation
                // In a real implementation, this would use Swiss Ephemeris calculations
                
                // For demonstration purposes, we'll return placeholder data
                return {
                    1: { sign: "Aries", degree: 0 },       // Ascendant
                    2: { sign: "Taurus", degree: 0 },
                    3: { sign: "Gemini", degree: 0 },
                    4: { sign: "Cancer", degree: 0 },      // IC
                    5: { sign: "Leo", degree: 0 },
                    6: { sign: "Virgo", degree: 0 },
                    7: { sign: "Libra", degree: 0 },       // Descendant
                    8: { sign: "Scorpio", degree: 0 },
                    9: { sign: "Sagittarius", degree: 0 },
                    10: { sign: "Capricorn", degree: 0 },  // MC
                    11: { sign: "Aquarius", degree: 0 },
                    12: { sign: "Pisces", degree: 0 }
                };
            }
            
            // Calculate aspects between planets
            function calculateAspects(planets) {
                // This is a placeholder implementation
                // In a real implementation, this would calculate aspects based on planetary positions
                
                // For demonstration purposes, we'll return placeholder data
                return [
                    { planets: "Sun-Mars", aspect: "conjunction", orb: 1.2, description: "Strong identity expression and assertive energy." },
                    { planets: "Moon-Venus", aspect: "trine", orb: 3.8, description: "Harmonious emotional and artistic expression." },
                    { planets: "Mercury-Saturn", aspect: "square", orb: 2.5, description: "Mental discipline with challenges in communication." },
                    { planets: "Venus-Jupiter", aspect: "sextile", orb: 1.9, description: "Opportunities for social and material benefits." },
                    { planets: "Mars-Pluto", aspect: "opposition", orb: 3.3, description: "Power struggles and intense transformative energy." },
                    { planets: "Jupiter-Saturn", aspect: "square", orb: 4.2, description: "Tension between expansion and limitation, requiring balance." },
                    { planets: "Moon-Neptune", aspect: "trine", orb: 2.8, description: "Enhanced intuition and emotional sensitivity." },
                    { planets: "Sun-Chiron", aspect: "sextile", orb: 1.5, description: "Opportunity to heal core identity wounds." }
                ];
            }
            
            // Render chart wheel visualization
            function renderChartWheel(planets, houses) {
                const wheel = document.getElementById('chart-wheel');
                
                // Clear previous content
                wheel.innerHTML = '<div class="zodiac-ring"></div><div class="wheel-center"></div>';
                
                // Add house cusps
                for (let i = 1; i <= 12; i++) {
                    const angle = (i - 1) * 30;
                    const line = document.createElement('div');
                    line.className = 'house-cusp-line';
                    line.style.transform = `rotate(${angle}deg)`;
                    wheel.appendChild(line);
                    
                    // Add house number
                    const label = document.createElement('div');
                    label.className = 'house-label';
                    label.textContent = `${i}`;
                    
                    // Position label inside the wheel
                    const labelAngle = angle * (Math.PI / 180);
                    const labelRadius = 43; // % from center
                    const labelX = 50 + labelRadius * Math.cos(labelAngle - Math.PI/2);
                    const labelY = 50 + labelRadius * Math.sin(labelAngle - Math.PI/2);
                    
                    label.style.left = `${labelX}%`;
                    label.style.top = `${labelY}%`;
                    wheel.appendChild(label);
                }
                
                // Add zodiac sign labels
                const signs = ["♈", "♉", "♊", "♋", "♌", "♍", "♎", "♏", "♐", "♑", "♒", "♓"];
                
                for (let i = 0; i < 12; i++) {
                    const angle = i * 30 + 15; // Center of each sign (30 degrees each)
                    const label = document.createElement('div');
                    label.className = 'sign-label';
                    label.textContent = signs[i];
                    
                    // Position label
                    const labelAngle = angle * (Math.PI / 180);
                    const labelRadius = 35; // % from center
                    const labelX = 50 + labelRadius * Math.cos(labelAngle - Math.PI/2);
                    const labelY = 50 + labelRadius * Math.sin(labelAngle - Math.PI/2);
                    
                    label.style.left = `${labelX}%`;
                    label.style.top = `${labelY}%`;
                    wheel.appendChild(label);
                }
                
                // Add planets
                const planetSymbols = {
                    "Sun": "☉", "Moon": "☽", "Mercury": "☿", "Venus": "♀", "Mars": "♂",
                    "Jupiter": "♃", "Saturn": "♄", "Uranus": "♅", "Neptune": "♆", "Pluto": "♇",
                    "Chiron": "⚷", "North Node": "☊", "South Node": "☋", 
                    "Black Moon Lilith": "⚸", "Dark Moon Lilith": "⚸", "Asteroid Lilith": "⚸", "True Lilith": "⚸",
                    "Ceres": "⚳", "Pallas": "⚴", "Juno": "⚵", "Vesta": "⚶",
                    "Eris": "♇*", "Sedna": "⯓", "Quaoar": "⯝"
                };
                
                // Position planets based on sign and degree
                const positionedPlanets = [];
                const signToAngle = {
                    "Aries": 0, "Taurus": 30, "Gemini": 60, "Cancer": 90,
                    "Leo": 120, "Virgo": 150, "Libra": 180, "Scorpio": 210,
                    "Sagittarius": 240, "Capricorn": 270, "Aquarius": 300, "Pisces": 330
                };
                
                // Only display main planets in the wheel to avoid cluttering
                const mainPlanets = ["Sun", "Moon", "Mercury", "Venus", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune", "Pluto"];
                
                for (const [planet, data] of Object.entries(planets)) {
                    if (!mainPlanets.includes(planet)) continue;
                    if (!planetSymbols[planet]) continue;
                    
                    // Calculate angle based on sign and degree
                    let angle = signToAngle[data.sign] + data.degree;
                    
                    // Convert to wheel angle (0 degrees is at East)
                    angle = 90 - angle;
                    if (angle < 0) angle += 360;
                    
                    // Check for planet overlap and adjust
                    positionedPlanets.forEach(pos => {
                        if (Math.abs(pos.angle - angle) < 3) {
                            // Adjust angle slightly to avoid overlap
                            angle += 3;
                        }
                    });
                    
                    positionedPlanets.push({ planet, angle });
                    
                    // Create planet marker
                    const marker = document.createElement('div');
                    marker.className = 'planet-marker';
                    marker.textContent = planetSymbols[planet];
                    
                    // Position planet
                    const markerAngle = angle * (Math.PI / 180);
                    const markerRadius = 25; // % from center
                    const markerX = 50 + markerRadius * Math.cos(markerAngle);
                    const markerY = 50 + markerRadius * Math.sin(markerAngle);
                    
                    marker.style.left = `${markerX}%`;
                    marker.style.top = `${markerY}%`;
                    marker.title = `${planet} in ${data.sign} (${data.degree.toFixed(2)}°)`;
                    wheel.appendChild(marker);
                }
            }
            
            // Populate chart ruler information
            function populateChartRuler(houses, planets) {
                const ascSign = houses[1].sign;
                const ruler = getChartRuler(ascSign);
                
                document.getElementById('chart-ruler-planet').textContent = ruler.planet;
                
                // Find ruler planet's house
                let rulerHouse = "Unknown";
                for (const [planet, data] of Object.entries(planets)) {
                    if (planet === ruler.planet) {
                        rulerHouse = data.house;
                        break;
                    }
                }
                
                document.getElementById('chart-ruler-house').textContent = rulerHouse;
            }
            
            // Get chart ruler based on ascendant sign
            function getChartRuler(ascSign) {
                const rulers = {
                    "Aries": { planet: "Mars" },
                    "Taurus": { planet: "Venus" },
                    "Gemini": { planet: "Mercury" },
                    "Cancer": { planet: "Moon" },
                    "Leo": { planet: "Sun" },
                    "Virgo": { planet: "Mercury" },
                    "Libra": { planet: "Venus" },
                    "Scorpio": { planet: "Pluto", traditional: "Mars" },
                    "Sagittarius": { planet: "Jupiter" },
                    "Capricorn": { planet: "Saturn" },
                    "Aquarius": { planet: "Uranus", traditional: "Saturn" },
                    "Pisces": { planet: "Neptune", traditional: "Jupiter" }
                };
                
                return rulers[ascSign];
            }
            
            // Calculate chart balance
            function calculateChartBalance(planets) {
                // This calculates the distribution of planets across elements, modalities, etc.
                
                // Element definitions
                const elements = {
                    "fire": ["Aries", "Leo", "Sagittarius"],
                    "earth": ["Taurus", "Virgo", "Capricorn"],
                    "air": ["Gemini", "Libra", "Aquarius"],
                    "water": ["Cancer", "Scorpio", "Pisces"]
                };
                
                // Modality definitions
                const modalities = {
                    "cardinal": ["Aries", "Cancer", "Libra", "Capricorn"],
                    "fixed": ["Taurus", "Leo", "Scorpio", "Aquarius"],
                    "mutable": ["Gemini", "Virgo", "Sagittarius", "Pisces"]
                };
                
                // Count distribution
                const elementCount = { fire: 0, earth: 0, air: 0, water: 0 };
                const modalityCount = { cardinal: 0, fixed: 0, mutable: 0 };
                const signCount = {};
                
                // Only count major planets for chart balance
                const majorPlanets = ["Sun", "Moon", "Mercury", "Venus", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune", "Pluto"];
                
                // Count planets by sign
                for (const [planet, data] of Object.entries(planets)) {
                    if (!majorPlanets.includes(planet)) continue;
                    
                    // Count elements
                    for (const [element, signs] of Object.entries(elements)) {
                        if (signs.includes(data.sign)) {
                            elementCount[element]++;
                        }
                    }
                    
                    // Count modalities
                    for (const [modality, signs] of Object.entries(modalities)) {
                        if (signs.includes(data.sign)) {
                            modalityCount[modality]++;
                        }
                    }
                    
                    // Count signs
                    if (!signCount[data.sign]) {
                        signCount[data.sign] = 0;
                    }
                    signCount[data.sign]++;
                }
                
                // Total planets
                const totalPlanets = majorPlanets.filter(p => planets[p]).length;
                
                // Update DOM with element counts
                const elementsList = document.getElementById('elements-list');
                elementsList.innerHTML = '';
                
                for (const [element, count] of Object.entries(elementCount)) {
                    const percentage = Math.round((count / totalPlanets) * 100);
                    const li = document.createElement('li');
                    li.innerHTML = `<strong>${element.charAt(0).toUpperCase() + element.slice(1)}:</strong> ${percentage}% (${count} planets)`;
                    elementsList.appendChild(li);
                }
                
                // Update DOM with modality counts
                const modalitiesList = document.getElementById('modalities-list');
                modalitiesList.innerHTML = '';
                
                for (const [modality, count] of Object.entries(modalityCount)) {
                    const percentage = Math.round((count / totalPlanets) * 100);
                    const li = document.createElement('li');
                    li.innerHTML = `<strong>${modality.charAt(0).toUpperCase() + modality.slice(1)}:</strong> ${percentage}% (${count} planets)`;
                    modalitiesList.appendChild(li);
                }
                
                // Calculate polarities
                const feminine = elementCount.earth + elementCount.water;
                const masculine = elementCount.fire + elementCount.air;
                
                document.getElementById('feminine-polarity').textContent = `${Math.round((feminine / totalPlanets) * 100)}% (${feminine} planets)`;
                document.getElementById('masculine-polarity').textContent = `${Math.round((masculine / totalPlanets) * 100)}% (${masculine} planets)`;
                
                // Top and bottom signs
                const signEntries = Object.entries(signCount);
                signEntries.sort((a, b) => b[1] - a[1]);
                
                const topSigns = signEntries.slice(0, 3);
                const bottomSigns = signEntries.slice(-3).reverse();
                
                const topSignsList = document.getElementById('top-signs-list');
                topSignsList.innerHTML = '';
                
                topSigns.forEach(([sign, count]) => {
                    const li = document.createElement('li');
                    li.innerHTML = `<strong>${sign}:</strong> ${count} planets`;
                    topSignsList.appendChild(li);
                });
                
                const bottomSignsList = document.getElementById('bottom-signs-list');
                bottomSignsList.innerHTML = '';
                
                bottomSigns.forEach(([sign, count]) => {
                    if (count === 0) {
                        const li = document.createElement('li');
                        li.innerHTML = `<strong>${sign}:</strong> No planets`;
                        bottomSignsList.appendChild(li);
                    } else {
                        const li = document.createElement('li');
                        li.innerHTML = `<strong>${sign}:</strong> ${count} planet${count > 1 ? 's' : ''}`;
                        bottomSignsList.appendChild(li);
                    }
                });
                
                // Top and bottom planets
                // This would require a more complex calculation in a real implementation
                const topPlanetsList = document.getElementById('top-planets-list');
                topPlanetsList.innerHTML = '';
                ["Sun", "Moon", "Jupiter"].forEach(planet => {
                    const li = document.createElement('li');
                    li.textContent = planet;
                    topPlanetsList.appendChild(li);
                });
                
                const bottomPlanetsList = document.getElementById('bottom-planets-list');
                bottomPlanetsList.innerHTML = '';
                ["Neptune", "Mercury", "Uranus"].forEach(planet => {
                    const li = document.createElement('li');
                    li.textContent = planet;
                    bottomPlanetsList.appendChild(li);
                });
            }
            
            // Populate orientation information
            function populateOrientation(planets) {
                // Determine dominant quadrant and hemisphere
                // In a real implementation, this would be calculated based on planet distribution
                
                document.getElementById('dominant-quadrant').textContent = "First Quadrant (Houses 1-3): Personal Identity";
                document.getElementById('dominant-hemisphere').textContent = "Northern Hemisphere (Houses 1-6): Subjective Experience";
            }
            
            // Populate general planetary positions
            function populatePlanetary(planets, houses) {
                // This is for the quick overview
                // The detailed information goes in the tabs
            }
            
            // Populate the Planets Tab with detailed interpretations
            function populatePlanetaryTab(planets, houses) {
                const container = document.getElementById('planets-container');
                container.innerHTML = '';
                
                // Define planet symbols for display
                const planetSymbols = {
                    "Sun": "☉", "Moon": "☽", "Mercury": "☿", "Venus": "♀", "Mars": "♂",
                    "Jupiter": "♃", "Saturn": "♄", "Uranus": "♅", "Neptune": "♆", "Pluto": "♇"
                };
                
                // Add major planets with their template interpretations
                const majorPlanets = ["Sun", "Moon", "Mercury", "Venus", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune", "Pluto"];
                
                majorPlanets.forEach(planet => {
                    if (!planets[planet]) return;
                    
                    const data = planets[planet];
                    const retrograde = data.retrograde ? ' ℞' : '';
                    
                    const section = document.createElement('div');
                    section.className = 'subsection';
                    
                    const title = document.createElement('h4');
                    title.className = 'subsection-title';
                    title.innerHTML = `${planetSymbols[planet]} ${planet} in ${data.sign}${retrograde}`;
                    section.appendChild(title);
                    
                    const content = document.createElement('div');
                    
                    // Add sign interpretation (from template)
                    const signInterpretation = document.createElement('div');
                    signInterpretation.innerHTML = getPlanetInSignTemplate(planet);
                    content.appendChild(signInterpretation);
                    
                    // Add house interpretation
                    const houseInterpretation = document.createElement('div');
                    houseInterpretation.className = 'interpretation-container';
                    houseInterpretation.innerHTML = `<p><strong>House:</strong> ${data.house} House at ${data.degree.toFixed(2)}° ${data.sign}</p>`;
                    content.appendChild(houseInterpretation);
                    
                    section.appendChild(content);
                    container.appendChild(section);
                });
            }
            
            // Get template interpretation for a planet in a sign
            function getPlanetInSignTemplate(planet) {
                // This returns the template structure for each planet from the House Overlay Template
                let template = '';
                
                switch (planet) {
                    case "Sun":
                        template = `
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Sun In Sign</h4>
                                <ul class="overlay-list">
                                    <li>Your conscious aim</li>
                                    <li>You have a strong sense of</li>
                                    <li>You have the ability to</li>
                                    <li>Your intrinsic nature is</li>
                                    <li>You fulfill ego needs by</li>
                                    <li>Your life force is</li>
                                    <li>You must learn to cultivate</li>
                                    <li>You have natural tendencies to</li>
                                    <li>Your expressive nature is</li>
                                    <li>Your potential for creative expression is</li>
                                    <li>Develop your Highest Self by</li>
                                    <li>Master your development by avoiding</li>
                                </ul>
                            </div>
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">House</h4>
                                <ul class="overlay-list">
                                    <li>Your major life goals are found in</li>
                                    <li>You achieve ultimate fulfillment in</li>
                                    <li>What your Ego wants</li>
                                    <li>You have a conscious aim to</li>
                                    <li>Your basic purpose, will and power are best expressed in</li>
                                </ul>
                            </div>
                        `;
                        break;
                    case "Moon":
                        template = `
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Moon In Sign</h4>
                                <ul class="overlay-list">
                                    <li>Your emotional needs are</li>
                                    <li>You instinctively</li>
                                    <li>You unconsciously resist</li>
                                    <li>Your temperament is</li>
                                    <li>Your general moods and reactions are</li>
                                    <li>Your emotional responses are</li>
                                    <li>Your maternal instinct is/ Your mother was</li>
                                    <li>Your emotions are triggered when</li>
                                    <li>When upset you become</li>
                                    <li>You are soothed when</li>
                                    <li>These qualities are most obviously expressed in</li>
                                    <li>You have great capacity for</li>
                                    <li>Your imagination is</li>
                                </ul>
                            </div>
                        `;
                        break;
                    case "Mercury":
                        template = `
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Mercury in Sign</h4>
                                <ul class="overlay-list">
                                    <li>Your style of communication is</li>
                                    <li>Your mental adaptability is</li>
                                    <li>Your thought processes and mental perceptions are</li>
                                    <li>You acquire knowledge by</li>
                                    <li>Your learning style is</li>
                                    <li>You exchange information</li>
                                    <li>Your mental tactics are</li>
                                    <li>Your perception is</li>
                                    <li>Your method of perception lacks</li>
                                    <li>Your mental talents are</li>
                                </ul>
                            </div>
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Houses</h4>
                                <ul class="overlay-list">
                                    <li>These qualities are most obviously expressed in</li>
                                </ul>
                            </div>
                        `;
                        break;
                    case "Venus":
                        template = `
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Venus in Sign</h4>
                                <ul class="overlay-list">
                                    <li>Your style of relating is</li>
                                    <li>Your aesthetic values are</li>
                                    <li>Your relationship needs are</li>
                                    <li>You seek balance by</li>
                                    <li>Your seduction techniques are</li>
                                    <li>Your romantic nature is</li>
                                    <li>You take pleasure in</li>
                                    <li>Artistic talents</li>
                                    <li>Your tendencies of affection are</li>
                                    <li>When seeking union you</li>
                                    <li>Your expressions of harmony are</li>
                                    <li>When relationships are imbalanced you become</li>
                                    <li>Your social disposition is</li>
                                </ul>
                            </div>
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Houses</h4>
                                <ul class="overlay-list">
                                    <li>These qualities are most obviously expressed in</li>
                                </ul>
                            </div>
                        `;
                        break;
                    case "Mars":
                        template = `
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Mars in Sign</h4>
                                <ul class="overlay-list">
                                    <li>Your expression of energy is</li>
                                    <li>You assert yourself by</li>
                                    <li>Your Primal Instincts are</li>
                                    <li>You fight for</li>
                                    <li>You are motivated by/to</li>
                                    <li>Your desires are pursued by</li>
                                    <li>Your temper is triggered when</li>
                                    <li>You express your anger by</li>
                                    <li>Your sexual nature is</li>
                                    <li>Your aggression levels are</li>
                                    <li>When energy is productively expressed you are</li>
                                    <li>Your methods of action are</li>
                                    <li>Your attitude is</li>
                                    <li>You lack</li>
                                </ul>
                            </div>
                        `;
                        break;
                    case "Jupiter":
                        template = `
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Jupiter in Sign</h4>
                                <ul class="overlay-list">
                                    <li>You are blessed with</li>
                                    <li>You naturally develop</li>
                                    <li>In life you expand</li>
                                    <li>Your spirituality teaches</li>
                                    <li>Your system of ethics is</li>
                                    <li>You seek meaning in life by</li>
                                    <li>You expand your horizons and awareness by</li>
                                    <li>You thwart your luck by being</li>
                                    <li>You are blessed when you</li>
                                    <li>You have great enthusiasm for</li>
                                    <li>Your Higher Mind is</li>
                                </ul>
                            </div>
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Houses</h4>
                                <ul class="overlay-list">
                                    <li>You find prosperity/abundance in</li>
                                    <li>You may take ____ for granted</li>
                                    <li>You thrive in</li>
                                    <li>You expand and have enthusiasm for</li>
                                    <li>Your search for truth and meaning, growth is found in</li>
                                </ul>
                            </div>
                        `;
                        break;
                    case "Saturn":
                        template = `
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Saturn in Sign</h4>
                                <ul class="overlay-list">
                                    <li>You work to overcome a ___ nature</li>
                                    <li>When excelling you achieve</li>
                                    <li>You limit yourself by</li>
                                    <li>You define and focus yourself by</li>
                                    <li>When discipline requirements are not met you become</li>
                                    <li>You are blocked and inhibited when you try to</li>
                                    <li>You strive to develop</li>
                                    <li>You must cultivate</li>
                                    <li>You are motivated by the fear of</li>
                                </ul>
                            </div>
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Houses</h4>
                                <ul class="overlay-list">
                                    <li>Your greatest life lessons are found in</li>
                                    <li>The path of least resistance is found in</li>
                                    <li>You find limitations in</li>
                                    <li>You work to achieve mastery in</li>
                                    <li>You require discipline in</li>
                                    <li>Your inhibitions manifest in</li>
                                    <li>Earned benefits are rewarded in</li>
                                    <li>Your fears are found in</li>
                                </ul>
                            </div>
                        `;
                        break;
                    case "Uranus":
                        template = `
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Uranus in Sign (GENERATIONAL)</h4>
                            </div>
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Houses</h4>
                                <ul class="overlay-list">
                                    <li>Unpredictable circumstances occur in</li>
                                    <li>Deviancy is shown in</li>
                                    <li>The non-conforming tendencies are found in</li>
                                    <li>I deviate from societal norms about</li>
                                    <li>I manifest change in</li>
                                    <li>I awaken new ways of</li>
                                    <li>I liberate myself from limitations in</li>
                                    <li>Lightning inspiration comes in</li>
                                    <li>I find disruptions and sudden fluctuations in</li>
                                    <li>I revolutionize</li>
                                </ul>
                            </div>
                        `;
                        break;
                    case "Neptune":
                        template = `
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Neptune in Sign (GENERATIONAL)</h4>
                            </div>
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Houses</h4>
                                <ul class="overlay-list">
                                    <li>You are responsive to</li>
                                    <li>You find spirituality in</li>
                                    <li>Self-Undoing of the Finite Self occurs in</li>
                                    <li>Delusions and confusion can be found in</li>
                                    <li>Spiritual sacrifices are made</li>
                                    <li>Potential martyrdom can happen in</li>
                                    <li>Escapism and addiction tendencies are</li>
                                    <li>Vague understanding of</li>
                                    <li>Psychic impressions and sensitivity from</li>
                                    <li>I dream/manifest</li>
                                    <li>I hide from</li>
                                    <li>I reveal</li>
                                </ul>
                            </div>
                        `;
                        break;
                    case "Pluto":
                        template = `
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Pluto in Sign (GENERATIONAL)</h4>
                            </div>
                            <div class="interpretation-container">
                                <h4 class="overlay-subheader">Houses</h4>
                                <ul class="overlay-list">
                                    <li>I transform and renew</li>
                                    <li>Compulsions and perversions are found</li>
                                    <li>I need constant purging in</li>
                                    <li>My Shadow Self lurks in</li>
                                    <li>Potential Violence and trauma occur in</li>
                                    <li>Power struggles manifest in</li>
                                    <li>I find hidden power in</li>
                                </ul>
                            </div>
                        `;
                        break;
                    default:
                        template = `<p>Interpretation template not available for ${planet}.</p>`;
                }
                
                return template;
            }
            
            // Populate the Houses Tab with detailed interpretations
            function populateHousesTab(houses, planets) {
                const container = document.getElementById('houses-container');
                container.innerHTML = '';
                
                // Add house interpretations based on the template
                for (let i = 1; i <= 12; i++) {
                    const houseData = houses[i];
                    const section = document.createElement('div');
                    section.className = 'subsection';
                    
                    const houseName = getHouseName(i);
                    
                    const title = document.createElement('h4');
                    title.className = 'subsection-title';
                    title.innerHTML = `${houseName} (${houseData.sign})`;
                    section.appendChild(title);
                    
                    // Find planets in this house
                    const planetsInHouse = [];
                    for (const [planet, data] of Object.entries(planets)) {
                        if (data.house === `${i}${getOrdinalSuffix(i)}`) {
                            planetsInHouse.push(planet);
                        }
                    }
                    
                    const content = document.createElement('div');
                    
                    // Add house cusp info
                    const cuspInfo = document.createElement('p');
                    cuspInfo.innerHTML = `<strong>Cusp:</strong> ${houseData.degree.toFixed(2)}° ${houseData.sign}`;
                    content.appendChild(cuspInfo);
                    
                    // Add planets in house
                    if (planetsInHouse.length > 0) {
                        const planetsInfo = document.createElement('p');
                        planetsInfo.innerHTML = `<strong>Planets:</strong> ${planetsInHouse.join(', ')}`;
                        content.appendChild(planetsInfo);
                    }
                    
                    // Add house ruler
                    const houseRuler = getHouseRuler(houseData.sign);
                    const rulerInfo = document.createElement('p');
                    rulerInfo.innerHTML = `<strong>House Ruler:</strong> ${houseRuler.planet}`;
                    content.appendChild(rulerInfo);
                    
                    // Add template interpretation
                    const template = document.createElement('div');
                    template.className = 'interpretation-container';
                    template.innerHTML = getHouseTemplate(i);
                    content.appendChild(template);
                    
                    section.appendChild(content);
                    container.appendChild(section);
                }
            }
            
            // Get house name with special names for angles
            function getHouseName(houseNumber) {
                const specialHouses = {
                    1: "1st House (Ascendant)",
                    4: "4th House (Imum Coeli)",
                    7: "7th House (Descendant)",
                    10: "10th House (Midheaven)"
                };
                
                if (specialHouses[houseNumber]) {
                    return specialHouses[houseNumber];
                }
                
                return `${houseNumber}${getOrdinalSuffix(houseNumber)} House`;
            }
            
            // Get ordinal suffix for numbers
            function getOrdinalSuffix(num) {
                const j = num % 10;
                const k = num % 100;
                
                if (j == 1 && k != 11) {
                    return "st";
                }
                if (j == 2 && k != 12) {
                    return "nd";
                }
                if (j == 3 && k != 13) {
                    return "rd";
                }
                
                return "th";
            }
            
            // Get house ruler based on sign
            function getHouseRuler(sign) {
                const rulers = {
                    "Aries": { planet: "Mars" },
                    "Taurus": { planet: "Venus" },
                    "Gemini": { planet: "Mercury" },
                    "Cancer": { planet: "Moon" },
                    "Leo": { planet: "Sun" },
                    "Virgo": { planet: "Mercury" },
                    "Libra": { planet: "Venus" },
                    "Scorpio": { planet: "Pluto", traditional: "Mars" },
                    "Sagittarius": { planet: "Jupiter" },
                    "Capricorn": { planet: "Saturn" },
                    "Aquarius": { planet: "Uranus", traditional: "Saturn" },
                    "Pisces": { planet: "Neptune", traditional: "Jupiter" }
                };
                
                return rulers[sign];
            }
            
            // Get template interpretation for a house
            function getHouseTemplate(houseNumber) {
                // This returns the template structure for each house from the House Overlay Template
                let template = '';
                
                switch (houseNumber) {
                    case 1:
                        template = `
                            <h4 class="overlay-subheader">RISING</h4>
                            <ul class="overlay-list">
                                <li>Your appearance is</li>
                                <li>The image you project is</li>
                                <li>Your mannerisms are</li>
                                <li>Your general disposition</li>
                                <li>You have learned to be</li>
                                <li>You give off the impression of</li>
                                <li>Your view of yourself is</li>
                            </ul>
                        `;
                        break;
                    case 2:
                        template = `
                            <h4 class="overlay-subheader">Second House</h4>
                            <ul class="overlay-list">
                                <li>That Which You Possess</li>
                                <li>Your earning capacity is facilitated by</li>
                                <li>Your value systems are based on</li>
                                <li>Your resources and possessions</li>
                                <li>Your self-worth is based in</li>
                                <li>Your earning potential is</li>
                            </ul>
                        `;
                        break;
                    case 3:
                        template = `
                            <h4 class="overlay-subheader">Third House</h4>
                            <ul class="overlay-list">
                                <li>Your mental activity is</li>
                                <li>Your routine interactions are defined by</li>
                                <li>Your day-to-day environment is characterized by</li>
                                <li>Your early education was</li>
                                <li>Your siblings/neighbors are</li>
                                <li>Routine tasks are colored with</li>
                                <li>You unconsciously think about</li>
                            </ul>
                        `;
                        break;
                    case 4:
                        template = `
                            <h4 class="overlay-subheader">Imum Coeli</h4>
                            <ul class="overlay-list">
                                <li>Your family traditions/heritage and your roots are characterized by</li>
                                <li>Your private life is characterized by</li>
                                <li>Your home life is</li>
                                <li>Your coping abilities are/stem from</li>
                                <li>The foundations of your emotions are rooted in</li>
                                <li>Your later life conditions will be</li>
                                <li>Your domestic life is characterized</li>
                                <li>Your upbringing and childhood was characterized by</li>
                                <li>Unconscious habits you have developed</li>
                                <li>Your emotional foundations are characterized by</li>
                            </ul>
                        `;
                        break;
                    case 5:
                        template = `
                            <h4 class="overlay-subheader">Fifth House</h4>
                            <ul class="overlay-list">
                                <li>You have fun by</li>
                                <li>Your creations are characterized by</li>
                                <li>Romantic affairs in your life are colored with</li>
                                <li>Your hobbies and pleasures include</li>
                                <li>Your creative talents manifest</li>
                                <li>Your relationship with Children</li>
                                <li>Vices you indulge in are</li>
                                <li>You experience pleasure from</li>
                                <li>Your casual love affairs are characterized by</li>
                                <li>Your talents and expressive urge are</li>
                            </ul>
                        `;
                        break;
                    case 6:
                        template = `
                            <h4 class="overlay-subheader">Sixth House</h4>
                            <ul class="overlay-list">
                                <li>Your daily work environment is characterized by</li>
                                <li>Your daily routines are</li>
                                <li>Your attitudes about health are</li>
                                <li>Your general health and constitution is</li>
                                <li>Your relationships with small animals and pets</li>
                                <li>You work to improve yourself and others by</li>
                                <li>Your health and nutritional habits are</li>
                                <li>You serve society through</li>
                            </ul>
                        `;
                        break;
                    case 7:
                        template = `
                            <h4 class="overlay-subheader">Descendant</h4>
                            <ul class="overlay-list">
                                <li>You seek in others qualities of</li>
                                <li>Qualities that you may lack are</li>
                                <li>Your social habits are</li>
                                <li>Your attitudes on commitment are</li>
                                <li>Your enemies may be</li>
                                <li>Your one on one relationships are characterized by</li>
                                <li>In partnerships you attract</li>
                                <li>Your business relationships are competitions are</li>
                                <li>Your views on marriage and commitment are</li>
                            </ul>
                        `;
                        break;
                    case 8:
                        template = `
                            <h4 class="overlay-subheader">Eighth House</h4>
                            <ul class="overlay-list">
                                <li>Your close intimate relationships are characterized by</li>
                                <li>Sex and sexuality in your life are characterized by</li>
                                <li>Other peoples resources come to you through</li>
                                <li>Your attitude toward death is</li>
                                <li>Joint resources and investments are found through/colored with</li>
                                <li>Your attitude on the Occult is</li>
                                <li>The emotional consequences of relationships in your life are</li>
                                <li>Your attitudes on growth, letting go and releasing attachment are</li>
                                <li>You deal with crises merging and shame by</li>
                                <li>Your relationship with the occult and the astral is characterized by</li>
                                <li>Your intense intimate bonds are</li>
                                <li>Your sexual life is characterized by</li>
                                <li>Control issues manifest in your life through</li>
                                <li>Outside resources and financial matters in your life</li>
                                <li>Your views on death and taboos are</li>
                                <li>Addictions medical problems and compulsions</li>
                            </ul>
                        `;
                        break;
                    case 9:
                        template = `
                            <h4 class="overlay-subheader">Ninth House</h4>
                            <ul class="overlay-list">
                                <li>Your belief systems are characterized by</li>
                                <li>Your spirituality and philosophies are</li>
                                <li>Your spiritual development is found by</li>
                                <li>Foreign ideas, experiences and travel</li>
                                <li>Your higher education is in</li>
                                <li>You expand your consciousness by</li>
                                <li>Your religious views are characterized by</li>
                                <li>You find and seek truth in</li>
                                <li>Your moral ideals and philosophies are based in</li>
                                <li>Foreign travel and experiences in your life</li>
                                <li>Your higher education and spiritual development are found in</li>
                                <li>Your spiritual journey is defined by</li>
                            </ul>
                        `;
                        break;
                    case 10:
                        template = `
                            <h4 class="overlay-subheader">Midheaven</h4>
                            <ul class="overlay-list">
                                <li>Your public reputation is</li>
                                <li>Your standing in your community is</li>
                                <li>You gain societal recognition for</li>
                                <li>Your highest goals and achievements are found by</li>
                                <li>You achieve public recognition for</li>
                                <li>Your world position is defined by</li>
                                <li>Your career path and vocation are characterized by</li>
                                <li>Your life's work is defined by</li>
                            </ul>
                        `;
                        break;
                    case 11:
                        template = `
                            <h4 class="overlay-subheader">Eleventh House</h4>
                            <ul class="overlay-list">
                                <li>Your friend groups are characterized by</li>
                                <li>Your views on society are</li>
                                <li>Group experiences are characterized by</li>
                                <li>Your ultimate dreams and wishes are</li>
                                <li>Your ideas about social progress and global awareness are characterized by</li>
                                <li>Impersonal love manifests in your life by</li>
                                <li>Your Kindred Souls are of these qualities</li>
                                <li>In group situations you behave</li>
                                <li>Social causes and groups that I align with promote</li>
                                <li>My social peers are</li>
                                <li>Your social periphery is</li>
                                <li>Your peer group is characterized by</li>
                                <li>You gravitate towards groups based in</li>
                                <li>You view greater society as</li>
                                <li>Your social alignment is</li>
                                <li>Your aspirations are</li>
                            </ul>
                        `;
                        break;
                    case 12:
                        template = `
                            <h4 class="overlay-subheader">Twelfth House</h4>
                            <ul class="overlay-list">
                                <li>Ghosts from your past are characterized by</li>
                                <li>Your experiences with institutions have been</li>
                                <li>Spaces of confinement manifest in a</li>
                                <li>Your path to transcending karma is by</li>
                                <li>Your secrets are colored with</li>
                                <li>Your introspective self is</li>
                                <li>You experience self-undoing by</li>
                                <li>Repressed tendencies manifest</li>
                                <li>Mysticism in your life manifests</li>
                                <li>You connect to the Cosmos through</li>
                                <li>Unseen enemies troubles sorrows</li>
                                <li>The parts of you that you keep hidden are</li>
                                <li>Your secret inner self is characterized by</li>
                                <li>Your internal sorrows are of a nature</li>
                                <li>Your karma is defined by</li>
                                <li>Your dream life is</li>
                                <li>Unconscious tendencies to</li>
                                <li>You experience isolation and confinement</li>
                                <li>Repressed tendencies defined by</li>
                            </ul>
                        `;
                        break;
                    default:
                        template = `<p>No template available for House ${houseNumber}.</p>`;
                }
                
                return template;
            }
            
            // Populate the Aspects Tab
            function populateAspectsTab(aspects) {
                const aspectsTable = document.getElementById('major-aspects-table').querySelector('tbody');
                aspectsTable.innerHTML = '';
                
                aspects.forEach(aspect => {
                    const row = document.createElement('tr');
                    
                    const planetsCell = document.createElement('td');
                    planetsCell.textContent = aspect.planets;
                    row.appendChild(planetsCell);
                    
                    const aspectCell = document.createElement('td');
                    aspectCell.textContent = aspect.aspect.charAt(0).toUpperCase() + aspect.aspect.slice(1);
                    row.appendChild(aspectCell);
                    
                    const orbCell = document.createElement('td');
                    orbCell.textContent = `${aspect.orb.toFixed(2)}°`;
                    row.appendChild(orbCell);
                    
                    const descriptionCell = document.createElement('td');
                    descriptionCell.textContent = aspect.description;
                    row.appendChild(descriptionCell);
                    
                    aspectsTable.appendChild(row);
                });
                
                // Add aspect patterns (in a real implementation, these would be detected)
                const patternsContainer = document.getElementById('aspect-patterns');
                patternsContainer.innerHTML = `
                    <p>Grand Trine (Sun, Moon, Neptune): Harmonious flow of energy between emotional, creative, and spiritual aspects.</p>
                    <p>T-Square (Mars, Saturn, Pluto): Dynamic tension requiring action to resolve conflicts between assertion, discipline, and transformation.</p>
                `;
            }
            
            // Populate the Asteroids Tab
            function populateAsteroidsTab(planets) {
                const container = document.getElementById('asteroids-container');
                container.innerHTML = '';
                
                // Only include asteroid bodies, not traditional planets
                const asteroidBodies = [
                    "Ceres", "Pallas", "Juno", "Vesta", "Pholus", "Nessus", 
                    "Asbolus", "Hylonome", "Chariklo", "Psyche", "Eros", 
                    "Sappho", "Amor", "Valentine", "Dejanira", "Diana", 
                    "Toro", "Hidalgo", "Icarus", "Pandora", "Urania"
                ];
                
                // Add a search filter
                const searchInput = document.getElementById('asteroid-search');
                const showAllButton = document.getElementById('show-all-asteroids');
                
                searchInput.addEventListener('input', function() {
                    filterAsteroids(this.value.toLowerCase());
                });
                
                showAllButton.addEventListener('click', function() {
                    searchInput.value = '';
                    filterAsteroids('');
                });
                
                // For each asteroid that has a position, add a section
                asteroidBodies.forEach(asteroid => {
                    if (!planets[asteroid]) return;
                    
                    const data = planets[asteroid];
                    
                    const section = document.createElement('div');
                    section.className = 'subsection asteroid-item';
                    section.dataset.name = asteroid.toLowerCase();
                    
                    const title = document.createElement('h4');
                    title.className = 'subsection-title';
                    title.textContent = `${asteroid} in ${data.sign} (${data.house} House)`;
                    section.appendChild(title);
                    
                    // Add specific interpretation based on the asteroid
                    const content = document.createElement('div');
                    content.className = 'interpretation-container';
                    content.innerHTML = getAsteroidTemplate(asteroid);
                    section.appendChild(content);
                    
                    container.appendChild(section);
                });
                
                // Add asteroids we don't have positions for but have in our database
                const additionalAsteroids = ["Echo", "Medusa", "Arachne", "Karma", "Reiki"];
                
                additionalAsteroids.forEach(asteroid => {
                    const section = document.createElement('div');
                    section.className = 'subsection asteroid-item';
                    section.dataset.name = asteroid.toLowerCase();
                    
                    const title = document.createElement('h4');
                    title.className = 'subsection-title';
                    title.textContent = asteroid;
                    section.appendChild(title);
                    
                    const content = document.createElement('div');
                    content.className = 'interpretation-container';
                    content.innerHTML = `<p>Position not calculated. Select this asteroid in the chart form to include it in your calculations.</p>`;
                    section.appendChild(content);
                    
                    container.appendChild(section);
                });
                
                // Function to filter asteroids
                function filterAsteroids(query) {
                    const items = document.querySelectorAll('.asteroid-item');
                    
                    items.forEach(item => {
                        if (query === '' || item.dataset.name.includes(query)) {
                            item.style.display = 'block';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                }
            }
            
            // Get template for asteroid interpretation
            function getAsteroidTemplate(asteroid) {
                // Returns templates from the document provided
                let template = '';
                
                switch (asteroid) {
                    case "Ceres":
                        template = `
                            <p><strong>Sign Interpretation:</strong></p>
                            <ul class="overlay-list">
                                <li>Your maternal instinct is</li>
                                <li>You nurture by</li>
                                <li>You show unconditional love by</li>
                                <li>You give and receive abundance by</li>
                                <li>You develop self-worth in</li>
                                <li>I eliminate and regenerate</li>
                            </ul>
                            
                            <p><strong>House Interpretation:</strong></p>
                            <ul class="overlay-list">
                                <li>The nurturing function is best expressed in</li>
                            </ul>
                        `;
                        break;
                    case "Pallas":
                        template = `
                            <p><strong>Interpretation:</strong></p>
                            <ul class="overlay-list">
                                <li>Mental Talents for</li>
                                <li>You express capacity for creative intelligence by</li>
                                <li>Your receptivity to Divine Inspiration is</li>
                                <li>You protect and implement Justice</li>
                            </ul>
                        `;
                        break;
                    case "Juno":
                        template = `
                            <p><strong>Interpretation:</strong></p>
                            <ul class="overlay-list">
                                <li>Power struggles in relationships manifest in a</li>
                                <li>In marriage the partner you seek is</li>
                                <li>In marriage you require</li>
                            </ul>
                        `;
                        break;
                    case "Vesta":
                        template = `
                            <p><strong>Interpretation:</strong></p>
                            <ul class="overlay-list">
                                <li>You honor your Inner Divine by</li>
                                <li>Your devotions to the Spirit are</li>
                                <li>You practice Sacred Solitude by</li>
                                <li>You commit to sacred causes by</li>
                                <li>Your dedicated service is to</li>
                            </ul>
                        `;
                        break;
                    case "Chiron":
                        template = `
                            <h3>The Wounded Healer</h3>
                            <p><strong>Keywords:</strong> Inner Wounds, Mentor and Guide, Integrating Spirituality and Humanity</p>
                            
                            <h4>Key Functions:</h4>
                            <ul class="chart-list">
                                <li>Facilitating healing and growth through addressing inner wounds.</li>
                                <li>Acting as a mentor or guide in the process of self-discovery.</li>
                                <li>Bridging the gap between the spiritual and material aspects of life.</li>
                            </ul>
                        `;
                        break;
                    case "Pholus":
                        template = `
                            <h3>Catalyst for Unexpected Changes</h3>
                            <p><strong>Keywords:</strong> Sudden Events, Unforeseen Circumstances, Releasing Old Patterns</p>
                            
                            <h4>Key Functions:</h4>
                            <ul class="chart-list">
                                <li>Triggering unexpected and transformative events in one's life.</li>
                                <li>Initiating the process of releasing old patterns and limitations.</li>
                                <li>Encouraging individuals to embrace change and adaptability.</li>
                            </ul>
                        `;
                        break;
                    default:
                        template = `<p>Detailed interpretation for ${asteroid} not available.</p>`;
                }
                
                return template;
            }
            
            // Populate the Lilith Tab
            function populateLilithTab(planets) {
                const container = document.getElementById('lilith-container');
                container.innerHTML = '';
                
                const lilithPoints = [
                    "Black Moon Lilith", "Dark Moon Lilith", "Asteroid Lilith", "True Lilith"
                ];
                
                lilithPoints.forEach(lilith => {
                    if (!planets[lilith]) return;
                    
                    const data = planets[lilith];
                    
                    const section = document.createElement('div');
                    section.className = 'subsection';
                    
                    const title = document.createElement('h4');
                    title.className = 'subsection-title';
                    title.textContent = `${lilith} in ${data.sign} (${data.house} House)`;
                    section.appendChild(title);
                    
                    const content = document.createElement('div');
                    content.className = 'interpretation-container';
                    content.innerHTML = getLilithTemplate(lilith);
                    section.appendChild(content);
                    
                    container.appendChild(section);
                });
                
                // If no Lilith points were calculated
                if (container.children.length === 0) {
                    container.innerHTML = `<p>No Lilith points were selected for calculation. Select Lilith points in the chart form to include them.</p>`;
                }
            }
            
            // Get template for Lilith interpretation
            function getLilithTemplate(lilith) {
                let template = '';
                
                switch (lilith) {
                    case "Black Moon Lilith":
                        template = `
                            <h3>Dark Feminine Power and Sexuality</h3>
                            <p><strong>Keywords:</strong> Sexual Liberation, Independence, Nonconformity</p>
                            <p>Black Moon Lilith represents the raw feminine power that refuses to be suppressed or controlled. It symbolizes rebellion against societal norms and breaking free from oppressive structures. This point in your chart shows where you may experience challenges related to independence, sexuality, and authentic expression.</p>
                            
                            <h4>Key Functions:</h4>
                            <ul class="chart-list">
                                <li>Empowering individuals to embrace their feminine power and sexuality.</li>
                                <li>Encouraging rebellion against oppressive norms and expectations.</li>
                                <li>Inspiring independence and autonomy in personal expression.</li>
                            </ul>
                        `;
                        break;
                    case "Dark Moon Lilith":
                        template = `
                            <h3>Unconscious Desires and Repressed Emotions</h3>
                            <p><strong>Keywords:</strong> Forbidden Desires, Unacknowledged Emotions, Embracing the Unknown</p>
                            <p>Dark Moon Lilith represents the shadowy feminine power that deals with repressed emotions, instinctual nature, and primal energies. It shows where we experience deep fears and powerful hidden drives in our charts.</p>
                            
                            <h4>Key Functions:</h4>
                            <ul class="chart-list">
                                <li>Bringing awareness to repressed emotions and desires.</li>
                                <li>Confronting the shadow self and exploring taboo themes.</li>
                                <li>Encouraging individuals to embrace and integrate the darker aspects of the feminine.</li>
                            </ul>
                        `;
                        break;
                    case "Asteroid Lilith":
                        template = `
                            <h3>Honoring the Feminine Mystique</h3>
                            <p><strong>Keywords:</strong> Female Archetype, Primal Instincts, Unconstrained Expression</p>
                            <p>Asteroid Lilith represents the feminine archetype that seeks equality and refuses to be submissive. It shows where we may encounter or express boundary issues, independence, and the assertion of rights.</p>
                            
                            <h4>Key Functions:</h4>
                            <ul class="chart-list">
                                <li>Recognizing and honoring the diverse expressions of the feminine.</li>
                                <li>Tapping into instinctive wisdom and primal energy.</li>
                                <li>Encouraging individuals to break free from societal limitations and embrace their authentic selves.</li>
                            </ul>
                        `;
                        break;
                    case "True Lilith":
                        template = `
                            <h3>Authentic Expression of Feminine Power</h3>
                            <p><strong>Keywords:</strong> Soul-Level Authenticity, Empowerment, Embracing the Shadow</p>
                            <p>True Lilith represents the authentic feminine power that refuses to be suppressed or controlled. It shows where we may express our most genuine desires for autonomy and equality.</p>
                            
                            <h4>Key Functions:</h4>
                            <ul class="chart-list">
                                <li>Encouraging the authentic expression of feminine power.</li>
                                <li>Facilitating soul-level authenticity and personal empowerment.</li>
                                <li>Guiding individuals to embrace and integrate the power of the dark goddess within.</li>
                            </ul>
                        `;
                        break;
                    default:
                        template = `<p>Detailed interpretation for ${lilith} not available.</p>`;
                }
                
                return template;
            }
            
            // Populate the Special Points Tab
            function populateSpecialPointsTab(planets) {
                const container = document.getElementById('special-container');
                container.innerHTML = '';
                
                // Special points and mythological bodies
                const specialPoints = [
                    "Eris", "Sedna", "Quaoar", "Sumeria", "Ur", "Babylon", "Isis", "Osiris", "Anubis"
                ];
                
                // Add a search filter
                const searchInput = document.getElementById('special-search');
                const showAllButton = document.getElementById('show-all-special');
                
                searchInput.addEventListener('input', function() {
                    filterSpecialPoints(this.value.toLowerCase());
                });
                
                showAllButton.addEventListener('click', function() {
                    searchInput.value = '';
                    filterSpecialPoints('');
                });
                
                // For each special point that has a position, add a section
                specialPoints.forEach(point => {
                    if (!planets[point]) return;
                    
                    const data = planets[point];
                    
                    const section = document.createElement('div');
                    section.className = 'subsection special-item';
                    section.dataset.name = point.toLowerCase();
                    
                    const title = document.createElement('h4');
                    title.className = 'subsection-title';
                    title.textContent = `${point} in ${data.sign} (${data.house} House)`;
                    section.appendChild(title);
                    
                    const content = document.createElement('div');
                    content.className = 'interpretation-container';
                    content.innerHTML = getSpecialPointTemplate(point);
                    section.appendChild(content);
                    
                    container.appendChild(section);
                });
                
                // If no special points were calculated
                if (container.children.length === 0) {
                    container.innerHTML = `<p>No special points or mythological bodies were selected for calculation. Select these in the chart form to include them.</p>`;
                }
                
                // Function to filter special points
                function filterSpecialPoints(query) {
                    const items = document.querySelectorAll('.special-item');
                    
                    items.forEach(item => {
                        if (query === '' || item.dataset.name.includes(query)) {
                            item.style.display = 'block';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                }
            }
            
            // Get template for special point interpretation
            function getSpecialPointTemplate(point) {
                let template = '';
                
                switch (point) {
                    case "Eris":
                        template = `
                            <h3>The Disruptor of Order</h3>
                            <p><strong>Keywords:</strong> Discord and Chaos, Revealing Hidden Realities, Liberation from Conformity</p>
                            <p>Named after the Greek goddess of discord and strife, Eris represents our ability to stir up chaos and challenge established structures. It exposes truths and hidden aspects of situations, encouraging us to embrace our uniqueness even when it creates discord.</p>
                            
                            <h4>Key Functions:</h4>
                            <ul class="chart-list">
                                <li>Stirring up chaos and challenging established structures.</li>
                                <li>Exposing truths and hidden aspects of situations.</li>
                                <li>Encouraging individuality and embracing uniqueness.</li>
                            </ul>
                        `;
                        break;
                    case "Sedna":
                        template = `
                            <h3>Deep Emotional Connection to the Sea</h3>
                            <p><strong>Keywords:</strong> Emotional Resilience, Oceanic Intuition, Environmental Awareness</p>
                            <p>Named after the Inuit goddess of the sea, Sedna represents deep emotional waters, trauma, and release. It speaks to our connection with the oceans and our deepest emotional currents, often revealing areas where we've been wounded but can find tremendous healing.</p>
                            
                            <h4>Key Functions:</h4>
                            <ul class="chart-list">
                                <li>Healing emotional wounds through connecting with the sea's energy.</li>
                                <li>Enhancing survival instincts and adaptability in challenging circumstances.</li>
                                <li>Encouraging environmental awareness and conservation efforts.</li>
                            </ul>
                        `;
                        break;
                    case "Quaoar":
                        template = `
                            <h3>Nurturing Creation and Balance</h3>
                            <p><strong>Keywords:</strong> Planetary Stewardship, Cosmic Knowledge, Harmonizing Forces</p>
                            <p>Named after a creation deity of the Tongva native people, Quaoar represents the dance of creation and the rhythm of natural cycles. It helps us recognize the creative power within ourselves and our connection to the cosmic order.</p>
                            
                            <h4>Key Functions:</h4>
                            <ul class="chart-list">
                                <li>Fostering harmony and balance within ecosystems.</li>
                                <li>Nurturing spiritual growth and connection with nature.</li>
                                <li>Understanding and aligning with the cycles of the planet.</li>
                            </ul>
                        `;
                        break;
                    case "Isis":
                        template = `
                            <h3>Goddess of Magic and Motherhood</h3>
                            <p><strong>Keywords:</strong> Divine Mother, Magical Abilities, Nurturing Love</p>
                            <p>Isis represents the nurturing and caring aspects of the divine feminine, empowering individuals with magical abilities and healing energy. She inspires connection and devotion to the goddess archetype.</p>
                        `;
                        break;
                    default:
                        template = `<p>Detailed interpretation for ${point} not available.</p>`;
                }
                
                return template;
            }
            
            // Create starry background
            function createStars() {
                const starsContainer = document.getElementById('stars');
                const starsCount = 100;
                
                for (let i = 0; i < starsCount; i++) {
                    const star = document.createElement('div');
                    star.classList.add('star');
                    
                    // Random position
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.top = `${Math.random() * 100}%`;
                    
                    // Random size
                    const size = Math.random() * 3 + 1;
                    star.style.width = `${size}px`;
                    star.style.height = `${size}px`;
                    
                    // Random twinkle duration
                    star.style.setProperty('--duration', `${Math.random() * 3 + 1}s`);
                    
                    starsContainer.appendChild(star);
                }
            }
            
            // Print functionality
            const printChartBtn = document.getElementById('print-chart');
            
            printChartBtn.addEventListener('click', function() {
                window.print();
            });
            
            // Back to top button
            const backToTopBtn = document.getElementById('back-to-top');
            
            backToTopBtn.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
            
            // Show back to top button when scrolled down
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    backToTopBtn.style.display = 'block';
                } else {
                    backToTopBtn.style.display = 'none';
                }
            });
        });
    </script>
    
<style>
/* Windows 98 Taskbar Styling */
.win98-taskbar {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 40px;
    background: linear-gradient(to bottom, #c0c0c0 0%, #808080 100%);
    border-top: 2px solid #ffffff;
    display: flex;
    align-items: center;
    padding: 0 4px;
    font-family: "MS Sans Serif", Arial, sans-serif;
    font-size: 11px;
    z-index: 9999;
    box-shadow: 0 -2px 4px rgba(0,0,0,0.3);
}

.taskbar-button {
    background: linear-gradient(to bottom, #dfdfdf 0%, #c0c0c0 100%);
    border: 2px outset #ffffff;
    padding: 4px 8px;
    margin: 0 2px;
    cursor: pointer;
    color: #000000;
    text-decoration: none;
    display: inline-block;
    font-weight: bold;
    transition: all 0.1s;
}

.taskbar-button:hover {
    background: linear-gradient(to bottom, #e0e0e0 0%, #d0d0d0 100%);
}

.taskbar-button:active {
    border-style: inset;
    background: #c0c0c0;
}

.taskbar-start {
    background: linear-gradient(to right, #008080, #0000ff);
    color: #ffffff;
    font-weight: bold;
    padding: 4px 12px;
    margin-right: 8px;
    border: 2px outset #ffffff;
}

.taskbar-separator {
    width: 2px;
    height: 30px;
    background: #808080;
    margin: 0 4px;
}

/* Add padding to body so content doesn't hide under taskbar */
body {
    padding-bottom: 50px;
}
</style>

<nav class="win98-taskbar">
    <a href="https://coaiexist.wtf" class="taskbar-start">⊞ START</a>
    
    <div class="taskbar-separator"></div>
    
    <a href="https://coaiexist.wtf/hex" class="taskbar-button">🎨 HEX CODEX</a>
    
    <a href="https://coaiexist.wtf/maps/void_forest" class="taskbar-button">🌲 VOID FOREST</a>
    
    <a href=" https://coaiexist.wtf/hdtv" class="taskbar-button">😍HD.TV</a>
    
    <a href="https://coaiexist.wtf/nexus" class="taskbar-button">🗣 NEXUS</a>
    
     <a href="https://coaiexist.wtf/terminal_temple" class="taskbar-button">🧿 TEMPLE_TERMINAL</a>
     
     <a href="https://coaiexist.wtf/mercy_egg_v1" class="taskbar-button">🔗 MERCY</a>
        
        
    
    <!-- ADD MORE BUTTONS HERE - Just copy a line and change the URL + text -->
    
</nav>
</body>
</html><div>
  <h1>Color palette generator</h1>
  <form>
    <div id="color-picker">
      <label for="color">Select a base color:</label>
      <input type="color" id="color" name="color" value="#ff0000" />
    </div>
    <div>
      <fieldset>
        <legend>Select a color palette type:</legend>

        <div>
          <input
            type="radio"
            id="comp"
            name="palette-type"
            value="comp"
            checked />
          <label for="comp">Complementary</label>
        </div>

        <div>
          <input
            type="radio"
            id="triadic"
            name="palette-type"
            value="triadic" />
          <label for="triadic">Triadic</label>
        </div>

        <div>
          <input
            type="radio"
            id="tetradic"
            name="palette-type"
            value="tetradic" />
          <label for="tetradic">Tetradic</label>
        </div>

        <div>
          <input
            type="radio"
            id="monochrome"
            name="palette-type"
            value="monochrome" />
          <label for="monochrome">Monochrome</label>
        </div>
      </fieldset>
    </div>
  </form>
  <div id="container" class="comp">
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
  </div>
</div>


html {
  font-family: sans-serif;
}

body {
  margin: 0;
}

h1 {
  margin-left: 16px;
}

/* Basic form styling */

#color-picker {
  margin-left: 16px;
  margin-bottom: 20px;
}

#color-picker label,
legend {
  display: block;
  font-size: 0.8rem;
  margin-bottom: 10px;
}

input[type="color"] {
  width: 200px;
  display: block;
}

fieldset {
  display: flex;
  gap: 20px;
  border: 0;
}

/* Palette container styling */

#container {
  /* Default value */
  --base-color: red;

  display: flex;
  width: 100vw;
  height: 250px;
  box-sizing: border-box;
}

#container div {
  flex: 1;
}
/* Complementary colors */
/* Base color, and base color with hue channel +180 degrees */

.comp :nth-child(1) {
  background-color: var(--base-color);
}

.comp :nth-child(2) {
  background-color: lch(from var(--base-color) l c calc(h + 180));
}

/* Use @supports to add in support old syntax that requires deg units
   to be specified in hue calculations. This is required for Safari 16.4+. */
@supports (color: lch(from red l c calc(h + 180deg))) {
  .comp :nth-child(2) {
    background-color: lch(from var(--base-color) l c calc(h + 180deg));
  }
}

/* Triadic colors */
/* Base color, base color with hue channel -120 degrees, and base color */
/* with hue channel +120 degrees */

.triadic :nth-child(1) {
  background-color: var(--base-color);
}

.triadic :nth-child(2) {
  background-color: lch(from var(--base-color) l c calc(h - 120));
}

.triadic :nth-child(3) {
  background-color: lch(from var(--base-color) l c calc(h + 120));
}

/* Use @supports to add in support old syntax that requires deg units
   to be specified in hue calculations. This is required for Safari 16.4+. */
@supports (color: lch(from red l c calc(h + 120deg))) {
  .triadic :nth-child(2) {
    background-color: lch(from var(--base-color) l c calc(h - 120deg));
  }

  .triadic :nth-child(3) {
    background-color: lch(from var(--base-color) l c calc(h + 120deg));
  }
}

/* Tetradic colors */
/* Base color, and base color with hue channel +90, +180, and +270 degrees */

.tetradic :nth-child(1) {
  background-color: var(--base-color);
}

.tetradic :nth-child(2) {
  background-color: lch(from var(--base-color) l c calc(h + 90));
}

.tetradic :nth-child(3) {
  background-color: lch(from var(--base-color) l c calc(h + 180));
}

.tetradic :nth-child(4) {
  background-color: lch(from var(--base-color) l c calc(h + 270));
}

/* Use @supports to add in support old syntax that requires deg units
   to be specified in hue calculations. This is required for Safari 16.4+. */
@supports (color: lch(from red l c calc(h + 90deg))) {
  .tetradic :nth-child(2) {
    background-color: lch(from var(--base-color) l c calc(h + 90deg));
  }

  .tetradic :nth-child(3) {
    background-color: lch(from var(--base-color) l c calc(h + 180deg));
  }

  .tetradic :nth-child(4) {
    background-color: lch(from var(--base-color) l c calc(h + 270deg));
  }
}

/* Monochrome colors */
/* Base color, and base color with lightness channel -20, -10, +10, and +20 */

.monochrome :nth-child(1) {
  background-color: lch(from var(--base-color) calc(l - 20) c h);
}

.monochrome :nth-child(2) {
  background-color: lch(from var(--base-color) calc(l - 10) c h);
}

.monochrome :nth-child(3) {
  background-color: var(--base-color);
}

.monochrome :nth-child(4) {
  background-color: lch(from var(--base-color) calc(l + 10) c h);
}

.monochrome :nth-child(5) {
  background-color: lch(from var(--base-color) calc(l + 20) c h);
}

/* Hide unused swatches for each palette type */
.comp :nth-child(2) ~ div,
.triadic :nth-child(3) ~ div,
.tetradic :nth-child(4) ~ div {
  display: none;
}


const form = document.forms[0];
const radios = form.elements["palette-type"];
const colorPicker = form.elements["color"];
const containerElem = document.getElementById("container");

for (const radio of radios) {
  radio.addEventListener("change", setContainer);
}

colorPicker.addEventListener("input", setBaseColor);

function setContainer(e) {
  const palType = e.target.value;
  console.log("radio changed");
  containerElem.setAttribute("class", palType);
}

function setBaseColor(e) {
  console.log("color changed");
  containerElem.style.setProperty("--base-color", e.target.value);
}
